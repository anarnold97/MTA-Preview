<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Rules Development Guide</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="This guide describes how to create custom XML rules for the Migration Toolkit for Runtimes."/><link rel="next" href="#making-open-source-more-inclusive" title="Making open source more inclusive"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46378235784768"><div class="titlepage"><div><div class="producttitle"><span class="productname">Migration Toolkit for Runtimes</span> <span class="productnumber">1.2</span></div><div><h1 class="title">Rules Development Guide</h1></div><div><h2 class="subtitle">Create custom rules to enhance migration coverage.</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm46378217208128">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This guide describes how to create custom XML rules for the Migration Toolkit for Runtimes.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#making-open-source-more-inclusive">Making open source more inclusive</a></span></li><li><span class="chapter"><a href="#introduction_rules-development-guide-mtr">1. Introduction</a></span><ul><li><span class="section"><a href="#rules-guide-intro_rules-development-guide-mtr">1.1. About the Rule Development Guide</a></span><ul><li><span class="section"><a href="#about-home-var_rules-development-guide-mtr">1.1.1. Use of <code class="literal">&lt;MTR_HOME&gt;</code> in this guide</a></span></li></ul></li><li><span class="section"><a href="#about-rules_rules-development-guide-mtr">1.2. The MTR rules</a></span></li></ul></li><li><span class="chapter"><a href="#getting-started-rules_rules-development-guide-mtr">2. Getting started with rules</a></span><ul><li><span class="section"><a href="#create-first-xml-rule_rules-development-guide-mtr">2.1. Creating your first XML rule</a></span><ul><li><span class="section"><a href="#creating-directory-structure-for-the-rule_rules-development-guide-mtr">2.1.1. Creating the directory structure for the rule</a></span></li><li><span class="section"><a href="#mta-creating-data-to-test-the-rule_rules-development-guide-mtr">2.1.2. Creating data to test the rule</a></span></li><li><span class="section"><a href="#creating-the-rule_rules-development-guide-mtr">2.1.3. Creating the rule</a></span></li><li><span class="section"><a href="#mta-installing-rule-in-directory_rules-development-guide-mtr">2.1.4. Installing the rule</a></span></li><li><span class="section"><a href="#mta-testing-the-rule_rules-development-guide-mtr">2.1.5. Testing the rule</a></span></li><li><span class="section"><a href="#mta-reviewing-the-report_rules-development-guide-mtr">2.1.6. Reviewing the reports</a></span></li></ul></li><li><span class="section"><a href="#review-quickstarts_rules-development-guide-mtr">2.2. Reviewing the Migration Toolkit for Runtimes quickstarts</a></span><ul><li><span class="section"><a href="#download_quickstart_zip_rules-development-guide-mtr">2.2.1. Downloading the latest quickstart</a></span></li><li><span class="section"><a href="#use-quickstart-github-project_rules-development-guide-mtr">2.2.2. Forking and cloning the quickstart GitHub project</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#creating-xml-rules_rules-development-guide-mtr">3. Creating XML rules</a></span><ul><li><span class="section"><a href="#xml-rule-syntax_rules-development-guide-mtr">3.1. XML rule structure</a></span><ul><li><span class="section"><a href="#rulesets">3.1.1. Rulesets</a></span></li><li><span class="section"><a href="#predefined_rules">3.1.2. Predefined rules</a></span></li></ul></li><li><span class="section"><a href="#create-basic-xml-rule_rules-development-guide-mtr">3.2. Creating a basic XML rule</a></span><ul><li><span class="section"><a href="#creating_a_basic_xml_rule_template">3.2.1. Creating a basic XML rule template</a></span></li><li><span class="section"><a href="#creating_the_ruleset_metadata">3.2.2. Creating the ruleset metadata</a></span></li><li><span class="section"><a href="#creating_a_rule">3.2.3. Creating a rule</a></span></li></ul></li><li><span class="section"><a href="#xml-rules-syntax-mtr_rules-development-guide-mtr">3.3. XML rule syntax</a></span><ul><li><span class="section"><a href="#xml-rule-when-syntax_rules-development-guide-mtr">3.3.1. <code class="literal">&lt;when&gt;</code> syntax</a></span></li><li><span class="section"><a href="#xml-rule-perform-syntax_rules-development-guide-mtr">3.3.2. <code class="literal">&lt;perform&gt;</code> syntax</a></span></li><li><span class="section"><a href="#where-syntax_rules-development-guide-mtr">3.3.3. <code class="literal">&lt;where&gt;</code> syntax</a></span></li></ul></li><li><span class="section"><a href="#add-rule-to-mtr_rules-development-guide-mtr">3.4. Adding a rule to the Migration Toolkit for Runtimes</a></span></li></ul></li><li><span class="chapter"><a href="#testing-rules_rules-development-guide-mtr">4. Testing XML rules</a></span><ul><li><span class="section"><a href="#creating_a_test_rule">4.1. Creating a test rule</a></span><ul><li><span class="section"><a href="#test-xml-rule-structure_rules-development-guide-mtr">4.1.1. Test XML rule structure</a></span></li><li><span class="section"><a href="#test_xml_rule_syntax">4.1.2. Test XML rule syntax</a></span></li></ul></li><li><span class="section"><a href="#manually-test-rules_rules-development-guide-mtr">4.2. Manually testing an XML rule</a></span></li><li><span class="section"><a href="#rules-testng-junit_rules-development-guide-mtr">4.3. Testing the rules by using JUnit</a></span></li><li><span class="section"><a href="#validation-report_rules-development-guide-mtr">4.4. About validation reports</a></span><ul><li><span class="section"><a href="#validation-report-understanding_rules-development-guide-mtr">4.4.1. Creating a validation report</a></span></li><li><span class="section"><a href="#validation-report-errors_rules-development-guide-mtr">4.4.2. Validation report error messages</a></span></li></ul></li></ul></li><li><span class="chapter"><a href="#overriding-rules_rules-development-guide-mtr">5. Overriding rules</a></span><ul><li><span class="section"><a href="#overriding_a_rule">5.1. Overriding a rule</a></span></li><li><span class="section"><a href="#disabling_a_rule">5.2. Disabling a rule</a></span></li></ul></li><li><span class="chapter"><a href="#rule-categories_rules-development-guide-mtr">6. Using custom rule categories</a></span><ul><li><span class="section"><a href="#add_custom_category_rules-development-guide-mtr">6.1. Adding a custom category</a></span></li><li><span class="section"><a href="#assign_custom_category_rules-development-guide-mtr">6.2. Assigning a rule to a custom category</a></span></li></ul></li><li><span class="appendix"><a href="#reference_material">A. Reference material</a></span><ul><li><span class="section"><a href="#about-story-points_rules-development-guide-mtr">A.1. About rule story points</a></span><ul><li><span class="section"><a href="#what_are_story_points">A.1.1. What are story points?</a></span></li><li><span class="section"><a href="#how_story_points_are_estimated_in_rules">A.1.2. How story points are estimated in rules</a></span></li><li><span class="section"><a href="#task_category">A.1.3. Task category</a></span></li></ul></li><li><span class="section"><a href="#additional_resources">A.2. Additional resources</a></span><ul><li><span class="section"><a href="#review-existing-rules_rules-development-guide-mtr">A.2.1. Reviewing existing MTR XML rules</a></span></li><li><span class="section"><a href="#rules-important-links_rules-development-guide-mtr">A.2.2. Additional resources</a></span></li></ul></li></ul></li></ul></div><section class="preface" id="making-open-source-more-inclusive"><div class="titlepage"><div><div><h1 class="title">Making open source more inclusive</h1></div></div></div><p class="_abstract _abstract">
			Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright’s message</a>.
		</p></section><section class="chapter" id="introduction_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introduction</h1></div></div></div><div class="admonition important"><div class="admonition_header">Migration Toolkit for Runtimes product will be End of Life on September 30th, 2024</div><div><p>
				All customers using this product should start their transition to <a class="link" href="https://developers.redhat.com/products/mta/overview">Migration Toolkit for Applications</a>.
			</p><p>
				Migration Toolkit for Applications is fully backwards compatible with all features and rulesets available in Migration Toolkit for Runtimes and will be maintained in the long term.
			</p></div></div><section class="section" id="rules-guide-intro_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">1.1. About the Rule Development Guide</h2></div></div></div><p>
				This guide is intended for software engineers who want to create custom YAML-based rules for Migration Toolkit for Runtimes (MTR) tools.
			</p><p>
				See the <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/introduction_to_the_migration_toolkit_for_runtimes"><span class="emphasis"><em>Introduction to the Migration Toolkit for Runtimes</em></span></a> for an overview and the <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/cli_guide"><span class="emphasis"><em>CLI Guide</em></span></a> for details.
			</p><section class="section" id="about-home-var_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">1.1.1. Use of <code class="literal">&lt;MTR_HOME&gt;</code> in this guide</h3></div></div></div><p>
					This guide uses the <code class="literal">&lt;MTR_HOME&gt;</code> replaceable variable to denote the path to your MTR installation. The installation directory is the <code class="literal">mtr-1.2.5.GA-offline</code> directory where you extracted the MTR <code class="literal">.zip</code> file.
				</p><p>
					When you encounter <code class="literal">&lt;MTR_HOME&gt;</code> in this guide, replace it with the actual path to your MTR installation.
				</p></section></section><section class="section" id="about-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">1.2. The MTR rules</h2></div></div></div><p>
				The Migration Toolkit for Runtimes (MTR) contains rule-based migration tools (analyzers) that you can use to analyze the application user interfaces (APIs), technologies, and architectures used by the applications you plan to migrate. MTR analyzer rules use the following rule pattern:
			</p><pre class="screen">when(condition)
 message(message)
 tag(tags)</pre><p>
				You can use the MTR rules internally to perform the following tasks:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Extract files from archives.
					</li><li class="listitem">
						Decompile files.
					</li><li class="listitem">
						Scan and classify file types.
					</li><li class="listitem">
						Analyze XML and other file content.
					</li><li class="listitem">
						Analyze the application code.
					</li><li class="listitem">
						Build the reports.
					</li></ul></div><p>
				MTR builds a data model based on the rule execution results and stores component data and relationships in a graph database. This database can then be queried and updated as required by the migration rules and for reporting purposes.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can create your own custom analyzer rules. You can use custom rules to identify the use of custom libraries or other components that might not be covered by the provided standard migration rules.
				</p><p>
					For instructions on how to write custom rules, see [<span class="emphasis"><em>Rule Development Guide</em></span>].
				</p></div></div></section></section><section class="chapter" id="getting-started-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Getting started with rules</h1></div></div></div><p>
			You can get started creating custom MTR rules by creating a rule or by reviewing the quickstarts.
		</p><section class="section" id="create-first-xml-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">2.1. Creating your first XML rule</h2></div></div></div><p>
				This section guides you through the process of creating and testing your first MTR XML-based rule. This assumes that you have already installed MTR. See <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/cli_guide/index#installing_and_running_the_cli">Installing and running the CLI</a> in the <span class="emphasis"><em>CLI Guide</em></span> for installation instructions.
			</p><p>
				In this example, you will write a rule to discover instances where an application defines a <code class="literal">jboss-web.xml</code> file containing a <code class="literal">&lt;class-loading&gt;</code> element and provide a link to the documentation that describes how to migrate the code.
			</p><section class="section" id="creating-directory-structure-for-the-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.1. Creating the directory structure for the rule</h3></div></div></div><p>
					Create a directory structure to contain your first rule and the data file to use for testing.
				</p><pre class="screen">$ mkdir -p /home/&lt;USER_NAME&gt;/migration-rules/rules
$ mkdir -p /home/&lt;USER_NAME&gt;/migration-rules/data</pre><p>
					This directory structure will also be used to hold the generated MTR reports.
				</p></section><section class="section" id="mta-creating-data-to-test-the-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.2. Creating data to test the rule</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create a <code class="literal">jboss-web.xml</code> file in the <code class="literal">/home/&lt;USER_NAME&gt;/migration-rules/data/</code> subdirectory.
						</li><li class="listitem"><p class="simpara">
							Copy in the following content.
						</p><pre class="programlisting language-xml">&lt;!DOCTYPE jboss-web PUBLIC "-//JBoss//DTD Web Application 4.2//EN" "http://www.jboss.org/j2ee/dtd/jboss-web_4_2.dtd"&gt;
&lt;jboss-web&gt;
    &lt;class-loading java2ClassLoadingCompliance="false"&gt;
        &lt;loader-repository&gt;
            seam.jboss.org:loader=@projectName@
            &lt;loader-repository-config&gt;java2ParentDelegation=false&lt;/loader-repository-config&gt;
        &lt;/loader-repository&gt;
    &lt;/class-loading&gt;
&lt;/jboss-web&gt;</pre></li></ol></div></section><section class="section" id="creating-the-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.3. Creating the rule</h3></div></div></div><p>
					MTR XML-based rules use the following rule pattern:
				</p><pre class="screen">when(condition)
  perform(action)
otherwise(action)</pre><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">/home/&lt;USER_NAME&gt;/migration-rules/rules/</code> directory, create a file named <code class="literal">JBoss5-web-class-loading.windup.xml</code> that contains the following content:
						</p><pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="&lt;UNIQUE_RULESET_ID&gt;"
  xmlns="http://windup.jboss.org/schema/jboss-ruleset"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;metadata&gt;
      &lt;description&gt;
          &lt;!-- Ruleset Description --&gt;
      &lt;/description&gt;
      &lt;dependencies&gt;
          &lt;!-- Ruleset Dependencies --&gt;
      &lt;/dependencies&gt;
      &lt;sourceTechnology id="&lt;SOURCE_ID&gt;" versionRange="&lt;SOURCE_VERSION_RANGE&gt;"/&gt;
      &lt;targetTechnology id="&lt;TARGET_ID&gt;" versionRange="&lt;TARGET_VERSION_RANGE&gt;"/&gt;
      &lt;tag&gt;Reviewed-2015-05-01&lt;/tag&gt;
  &lt;/metadata&gt;
  &lt;rules&gt;
      &lt;rule id="&lt;UNIQUE_RULE_ID&gt;"&gt;
        &lt;when&gt;
            &lt;!-- Test for a condition here --&gt;
        &lt;/when&gt;
        &lt;perform&gt;
            &lt;!-- Perform an action --&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
   &lt;/rules&gt;
&lt;/ruleset&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The XML file name must include the <code class="literal">.windup.xml</code> extension. Otherwise, MTR does not evaluate the new rule.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Add a unique identifier for the ruleset and rule:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Replace <code class="literal">&lt;UNIQUE_RULESET_ID&gt;</code> with an appropriate ruleset ID, for example, <code class="literal">JBoss5-web-class-loading</code>.
								</li><li class="listitem">
									Replace <code class="literal">&lt;UNIQUE_RULE_ID&gt;</code> with an appropriate rule ID, for example, <code class="literal">JBoss5-web-class-loading_001</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Add the following ruleset add-on dependencies:
						</p><pre class="programlisting language-xml">&lt;dependencies&gt;
  &lt;addon id="org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final"/&gt;
  &lt;addon id="org.jboss.windup.rules,windup-rules-java,3.0.0.Final"/&gt;
&lt;/dependencies&gt;</pre></li><li class="listitem"><p class="simpara">
							Add the source and target technologies:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Replace <code class="literal">&lt;SOURCE_ID&gt;</code> with <code class="literal">eap</code>.
								</li><li class="listitem">
									Replace <code class="literal">&lt;TARGET_ID&gt;</code> with <code class="literal">eap</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Set the source and target technology versions.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Replace <code class="literal">&lt;SOURCE_VERSION_RANGE&gt;</code> with <code class="literal">(4,5)</code>.
								</li><li class="listitem">
									Replace <code class="literal">&lt;TARGET_VERSION_RANGE&gt;</code> with <code class="literal">(6,)</code>.
								</li></ul></div><p class="simpara">
							See the Apache Maven <a class="link" href="http://maven.apache.org/enforcer/enforcer-rules/versionRanges.html">version range specification</a> for more information.
						</p></li><li class="listitem"><p class="simpara">
							Complete the <code class="literal">when</code> condition. Because this rule tests for a match in an XML file, <code class="literal">xmlfile</code> is used to evaluate the files.
						</p><p class="simpara">
							To match on the <code class="literal">class-loading</code> element that is a child of <code class="literal">jboss-web</code>, use the xpath expression <code class="literal">jboss-web/class-loading</code>.
						</p><pre class="programlisting language-xml">&lt;when&gt;
    &lt;xmlfile matches="jboss-web/class-loading" /&gt;
&lt;/when&gt;</pre></li><li class="listitem"><p class="simpara">
							Complete the <code class="literal">perform</code> action for this rule.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Add a classification with a descriptive title and a level of effort of <code class="literal">1</code>.
								</li><li class="listitem"><p class="simpara">
									Provide a hint with an informative message and a link to documentation that describes the migration details.
								</p><pre class="programlisting language-xml">&lt;perform&gt;
    &lt;iteration&gt;
        &lt;classification title="JBoss Web Application Descriptor" effort="1"/&gt;
        &lt;hint title="JBoss Web XML class-loading element is no longer valid"&gt;
          &lt;message&gt;
            The class-loading element is no longer valid in the jboss-web.xml file.
          &lt;/message&gt;
          &lt;link href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html-single/Migration_Guide/index.html#Create_or_Modify_Files_That_Control_Class_Loading_in_JBoss_Enterprise_Application_Platform_6" title="Create or Modify Files That Control Class Loading in JBoss EAP 6"/&gt;
        &lt;/hint&gt;
    &lt;/iteration&gt;
&lt;/perform&gt;</pre></li></ul></div></li></ol></div><p>
					The rule is now complete and should look like the following example.
				</p><pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="JBoss5-web-class-loading"
    xmlns="http://windup.jboss.org/schema/jboss-ruleset"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
    &lt;metadata&gt;
        &lt;description&gt;
            This ruleset looks for the class-loading element in a jboss-web.xml file, which is no longer valid in JBoss EAP 6
        &lt;/description&gt;
         &lt;dependencies&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final"/&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-java,3.0.0.Final"/&gt;
        &lt;/dependencies&gt;
        &lt;sourceTechnology id="eap" versionRange="(4,5)"/&gt;
        &lt;targetTechnology id="eap" versionRange="[6,)"/&gt;
    &lt;/metadata&gt;
    &lt;rules&gt;
        &lt;rule id="JBoss5-web-class-loading_001"&gt;
            &lt;when&gt;
                &lt;xmlfile matches="jboss-web/class-loading" /&gt;
            &lt;/when&gt;
            &lt;perform&gt;
                &lt;iteration&gt;
                    &lt;classification title="JBoss Web Application Descriptor" effort="1"/&gt;
                    &lt;hint title="JBoss Web XML class-loading element is no longer valid"&gt;
                      &lt;message&gt;
                        The class-loading element is no longer valid in the jboss-web.xml file.
                      &lt;/message&gt;
                      &lt;link href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html-single/Migration_Guide/index.html#Create_or_Modify_Files_That_Control_Class_Loading_in_JBoss_Enterprise_Application_Platform_6" title="Create or modify files that control class loading in JBoss EAP 6"/&gt;
                    &lt;/hint&gt;
                &lt;/iteration&gt;
            &lt;/perform&gt;
        &lt;/rule&gt;
     &lt;/rules&gt;
&lt;/ruleset&gt;</pre></section><section class="section" id="mta-installing-rule-in-directory_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.4. Installing the rule</h3></div></div></div><p>
					An MTR rule is installed by placing the rule into the appropriate directory.
				</p><p>
					Copy the <code class="literal">JBoss5-web-class-loading.windup.xml</code> file to the <code class="literal">&lt;MTR_HOME&gt;/rules/</code> directory.
				</p><pre class="screen">$ cp /home/&lt;USER_NAME&gt;/migration-rules/rules/JBoss5-web-class-loading.windup.xml &lt;MTR_HOME&gt;/rules/</pre></section><section class="section" id="mta-testing-the-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.5. Testing the rule</h3></div></div></div><p>
					Open a terminal and run the following command, passing the test file as an input argument and a directory for the output report.
				</p><pre class="screen">$ &lt;MTR_HOME&gt;/bin/mta-cli --sourceMode --input /home/&lt;USER_NAME&gt;/migration-rules/data --output /home/&lt;USER_NAME&gt;/migration-rules/reports --target eap:6</pre><p>
					You should see the following result.
				</p><pre class="screen">Report created: /home/&lt;USER_NAME&gt;/migration-rules/reports/index.html
              Access it at this URL: file:///home/&lt;USER_NAME&gt;/migration-rules/reports/index.html</pre></section><section class="section" id="mta-reviewing-the-report_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.1.6. Reviewing the reports</h3></div></div></div><p>
					Review the report to be sure that it provides the expected results. For a more detailed walkthrough of MTR reports, see the <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/cli_guide#review-reports_cli-guide">Reviewing the reports</a> section of the MTR <span class="emphasis"><em>CLI Guide</em></span>.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Open <code class="literal">/home/&lt;USER_NAME&gt;/migration-rules/reports/index.html</code> in a web browser.
						</li><li class="listitem"><p class="simpara">
							Verify that the rule ran successfully.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the main landing page, click the <span class="strong strong"><strong>Rule providers execution overview</strong></span> link to open the Rule Providers Execution Overview.
								</li><li class="listitem"><p class="simpara">
									Find the <code class="literal">JBoss5-web-class-loading_001</code> rule and verify that its <span class="strong strong"><strong>Status?</strong></span> is <code class="literal">Condition met</code> and its <span class="strong strong"><strong>Result?</strong></span> is <code class="literal">success</code>.
								</p><div class="figure" id="idm46378220427472"><p class="title"><strong>Figure 2.1. Test rule execution</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/executed-test-rule.png" alt="Test rule execution"/></div></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify that the rule matches the test data:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									From the main landing page, click the name of the application or input folder, which is <code class="literal">data</code> in this example.
								</li><li class="listitem">
									Click the <span class="strong strong"><strong>Application Details</strong></span> report link.
								</li><li class="listitem"><p class="simpara">
									Click the <span class="strong strong"><strong>jboss-web.xml</strong></span> link to view the <span class="strong strong"><strong>Source Report</strong></span>.
								</p><p class="simpara">
									You can see that the <code class="literal">&lt;class-loading&gt;</code> line is highlighted, and the hint from the custom rule is shown inline.
								</p><div class="figure" id="idm46378212943440"><p class="title"><strong>Figure 2.2. Rule match</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/test-rule-details.png" alt="Rule match"/></div></div></div><p class="simpara">
									The top of the file lists the classifications for matching rules. You can use the link icon to view the details for that rule. Notice that in this example, the <code class="literal">jboss-web.xml</code> file matched on another rule (<code class="literal">JBoss web application descriptor (jboss-web.xml)</code>) that produced <code class="literal">1</code> story point. This story point, combined with the <code class="literal">1</code> story point from our custom rule, brings the total story points for this file to <code class="literal">2</code>.
								</p></li></ol></div></li></ol></div></section></section><section class="section" id="review-quickstarts_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">2.2. Reviewing the Migration Toolkit for Runtimes quickstarts</h2></div></div></div><p>
				The Migration Toolkit for Runtimes quickstarts provide working examples of how to create custom Java-based rule add-ons and XML rules. You can use them as a starting point for creating your own custom rules.
			</p><p>
				Each quickstart has a <code class="literal">README.adoc</code> file that contains instructions for that quickstart.
			</p><p>
				You can download a <code class="literal">.zip</code> file of the latest version of the quickstarts. If you prefer to work with the source code, you can fork and clone the <code class="literal">windup-quickstarts</code> project repository.
			</p><section class="section" id="download_quickstart_zip_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.2.1. Downloading the latest quickstart</h3></div></div></div><p>
					You can download the latest release of a quickstart.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Launch a browser and navigate to <a class="link" href="https://github.com/windup/windup-quickstarts/releases">https://github.com/windup/windup-quickstarts/releases</a>.
						</li><li class="listitem">
							Click the latest release to download the <code class="literal">.zip</code> file to your local file system.
						</li><li class="listitem"><p class="simpara">
							Extract the archive files to a local directory.
						</p><p class="simpara">
							You can review the quickstart <code class="literal">README.adoc</code> file.
						</p></li></ol></div></section><section class="section" id="use-quickstart-github-project_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">2.2.2. Forking and cloning the quickstart GitHub project</h3></div></div></div><p>
					You can fork and clone the Quickstart Github project on your local machine.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You must have <a class="link" href="http://git-scm.com/"><code class="literal">git</code></a> client installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Click <span class="strong strong"><strong>Fork</strong></span> on the <a class="link" href="https://github.com/windup/windup-quickstarts/">Migration Toolkit for Runtimes quickstart</a> GitHub page to create the project in your own Git. The forked GitHub repository URL should look like this: <code class="literal">https://github.com/&lt;YOUR_USER_NAME&gt;/windup-quickstarts.git</code>.
						</li><li class="listitem"><p class="simpara">
							Clone the Migration Toolkit for Runtimes quickstart repository to your local file system:
						</p><pre class="screen">$ git clone https://github.com/&lt;YOUR_USER_NAME&gt;/windup-quickstarts.git</pre><p class="simpara">
							This creates a <code class="literal">windup-quickstarts</code> directory on your local file system.
						</p></li><li class="listitem"><p class="simpara">
							Navigate to the newly created directory:
						</p><pre class="screen">$ cd windup-quickstarts/</pre></li><li class="listitem"><p class="simpara">
							To retrieve the latest code updates, add the remote <code class="literal">upstream</code> repository so that you can fetch changes to the original forked repository:
						</p><pre class="screen">$ git remote add upstream https://github.com/windup/windup-quickstarts.git</pre></li><li class="listitem"><p class="simpara">
							Download the latest files from the <code class="literal">upstream</code> repository:
						</p><pre class="screen">$ git fetch upstream</pre></li></ol></div></section></section></section><section class="chapter" id="creating-xml-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Creating XML rules</h1></div></div></div><section class="section" id="xml-rule-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">3.1. XML rule structure</h2></div></div></div><p>
				This section describes the basic structure of XML rules. All XML rules are defined as elements within rulesets. For more details, see the <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">MTR XML rule schema</a>.
			</p><section class="section" id="rulesets"><div class="titlepage"><div><div><h3 class="title">3.1.1. Rulesets</h3></div></div></div><p>
					A ruleset is a group of one or more rules that targets a specific area of migration. This is the basic structure of the <code class="literal">&lt;ruleset&gt;</code> element.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>&lt;ruleset id="&lt;UNIQUE_RULESET_ID&gt;"&gt;</strong></span>: Defines this as an MTR ruleset and gives it a unique ruleset ID.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>&lt;metadata&gt;</strong></span>: The metadata about the ruleset.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											<span class="strong strong"><strong>&lt;description&gt;</strong></span>: The description of the ruleset.
										</li><li class="listitem">
											<span class="strong strong"><strong>&lt;dependencies/&gt;</strong></span>: The rule add-ons required by this ruleset.
										</li><li class="listitem">
											<span class="strong strong"><strong> &lt;sourceTechnology/&gt;</strong></span>: The source technology.
										</li><li class="listitem">
											<span class="strong strong"><strong> &lt;targetTechnology/&gt;</strong></span>: The target technology.
										</li><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong> &lt;overrideRules/&gt;</strong></span>: Setting to <code class="literal">true</code> indicates that rules in this ruleset override rules with the same ID from the core ruleset distributed with MTR. Both the ruleset id and the rule id must match a rule within the core ruleset, or the rule will be ignored. In addition, the target technology in this ruleset must match one of the targets that you specified for running the analysis.
										</p><p class="simpara">
											This is <code class="literal">false</code> by default.
										</p></li></ul></div></li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>&lt;rules&gt;</strong></span>: A set of individual rules.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p class="simpara">
											<span class="strong strong"><strong>&lt;rule id="&lt;UNIQUE_RULE_ID&gt;"&gt;</strong></span>: Defines the rule and gives it a unique ID. It is recommended to include the ruleset ID as part of the rule ID, for example, <code class="literal">&lt;UNIQUE_RULESET_ID_UNIQUE_RULE_ID&gt;</code>. One or more rules can be defined for a ruleset.
										</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
													<span class="strong strong"><strong>&lt;when&gt;</strong></span>: The conditions to match on.
												</li><li class="listitem">
													<span class="strong strong"><strong>&lt;perform&gt;</strong></span>: The action to be performed when the rule condition is matched.
												</li><li class="listitem">
													<span class="strong strong"><strong>&lt;otherwise&gt;</strong></span>: The action to be performed when the rule condition is not matched. This element takes the same child elements as the <code class="literal">&lt;perform&gt;</code> element.
												</li><li class="listitem">
													<span class="strong strong"><strong>&lt;where&gt;</strong></span>: A string pattern defined as a parameter, which can be used elsewhere in the rule definition.
												</li></ul></div></li><li class="listitem">
											<span class="strong strong"><strong>&lt;file-mapping/&gt;</strong></span>: Maps an extension to a graph type.
										</li><li class="listitem">
											<span class="strong strong"><strong>&lt;package-mapping/&gt;</strong></span>: Maps from a package pattern (regular expression) to an organization name.
										</li></ul></div></li></ul></div></li></ul></div></section><section class="section" id="predefined_rules"><div class="titlepage"><div><div><h3 class="title">3.1.2. Predefined rules</h3></div></div></div><p>
					MTR provides predefined rules for common migration requirements. These core MTR rules are located in the MTR installation at <code class="literal">&lt;MTR_HOME&gt;/rules/migration-core/</code>.
				</p><p>
					The following is an example of a core MTR rule that matches on a proprietary utility class.
				</p><pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset xmlns="http://windup.jboss.org/schema/jboss-ruleset" id="weblogic" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;

    &lt;metadata&gt;
        &lt;description&gt;
            This ruleset provides analysis of WebLogic proprietary classes and constructs that may require individual attention when migrating to JBoss EAP 6+.
        &lt;/description&gt;
        &lt;dependencies&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-javaee,2.0.1.Final" /&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-java,2.0.0.Final" /&gt;
        &lt;/dependencies&gt;
        &lt;sourceTechnology id="weblogic" /&gt;
        &lt;targetTechnology id="eap" versionRange="[6,)" /&gt;
        &lt;tag&gt;reviewed-2015-06-02&lt;/tag&gt;
        &lt;tag&gt;weblogic&lt;/tag&gt;
    &lt;/metadata&gt;
    &lt;rules&gt;
        ...
        &lt;rule id="weblogic-02000"&gt;
            &lt;when&gt;
                &lt;javaclass references="weblogic.utils.StringUtils.{*}" /&gt;
            &lt;/when&gt;
            &lt;perform&gt;
                &lt;hint title="WebLogic StringUtils usage" effort="1" category-id="mandatory"&gt;
                    &lt;message&gt;Replace with the `StringUtils` class from Apache Commons.&lt;/message&gt;
                    &lt;link href="https://commons.apache.org/proper/commons-lang/" title="Apache Commons Lang" /&gt;
                    &lt;tag&gt;weblogic&lt;/tag&gt;
                &lt;/hint&gt;
            &lt;/perform&gt;
        &lt;/rule&gt;
        ...
    &lt;/rules&gt;
&lt;/ruleset&gt;</pre></section></section><section class="section" id="create-basic-xml-rule_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">3.2. Creating a basic XML rule</h2></div></div></div><p>
				This section describes how to create an MTR XML rule. This assumes that you already have MTR installed. See the MTR <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/cli_guide"><span class="emphasis"><em>CLI Guide</em></span></a> for installation instructions.
			</p><section class="section" id="creating_a_basic_xml_rule_template"><div class="titlepage"><div><div><h3 class="title">3.2.1. Creating a basic XML rule template</h3></div></div></div><p>
					MTR XML rules consist of <span class="emphasis"><em>conditions</em></span> and <span class="emphasis"><em>actions</em></span> and use the following rule pattern:
				</p><pre class="programlisting language-terminal">when(condition)
  perform(action)
otherwise(action)</pre><p>
					Create a file with the following contents, which is the basic syntax for XML rules.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						The XML file name must include the <code class="literal">.windup.xml</code> extension. Otherwise, MTR does not evaluate the new rule.
					</p></div></div><pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="unique-ruleset-id"
  xmlns="http://windup.jboss.org/schema/jboss-ruleset"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;metadata&gt;
    &lt;!-- Metadata about the rule including a description,
         source technology, target technology, and any
         add-on dependencies --&gt;
  &lt;/metadata&gt;
&lt;rules&gt;
    &lt;rule id="unique-ruleset-id-01000"&gt;
        &lt;when&gt;
            &lt;!-- Test a condition... --&gt;
        &lt;/when&gt;
        &lt;perform&gt;
            &lt;!-- Perform this action when condition is satisfied --&gt;
        &lt;/perform&gt;
        &lt;otherwise&gt;
            &lt;!-- Perform this action when condition is not satisfied --&gt;
        &lt;/otherwise&gt;
    &lt;/rule&gt;
  &lt;rules&gt;
&lt;/ruleset&gt;</pre></section><section class="section" id="creating_the_ruleset_metadata"><div class="titlepage"><div><div><h3 class="title">3.2.2. Creating the ruleset metadata</h3></div></div></div><p>
					The XML ruleset <code class="literal">metadata</code> element provides additional information about the ruleset such as a description, the source and target technologies, and add-on dependencies. The metadata also allows for specification of tags, which allow you to provide additional information about a ruleset.
				</p><div class="formalpara"><p class="title"><strong><code class="literal">&lt;metadata&gt;</code> example</strong></p><p>
						
<pre class="programlisting language-xml">&lt;ruleset id="unique-ruleset-id"
  xmlns="http://windup.jboss.org/schema/jboss-ruleset"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;metadata&gt;
    &lt;description&gt;
            This is the description.
    &lt;/description&gt;
    &lt;dependencies&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-javaee,2.0.1.Final"/&gt;
            &lt;addon id="org.jboss.windup.rules,windup-rules-java,2.0.0.Final"/&gt;
    &lt;/dependencies&gt;
    &lt;sourceTechnology id="weblogic" versionRange="(10,12]"/&gt;
    &lt;sourceTechnology id="ejb" versionRange="(2,3]"/&gt;
    &lt;targetTechnology id="eap" versionRange="(5,6]"/&gt;
    &lt;targetTechnology id="ejb" versionRange="(2,3]"/&gt;
    &lt;tag&gt;require-stateless&lt;/tag&gt;
    &lt;tag&gt;require-nofilesystem-io&lt;/tag&gt;
    &lt;executeAfter&gt;AfterRulesetId&lt;/executeAfter&gt;
    &lt;executeBefore&gt;BeforeRulesetId&lt;/executeBefore&gt;
  &lt;/metadata&gt;
  &lt;rules&gt;
    ...
  &lt;/rules&gt;
&lt;/ruleset&gt;</pre>
					</p></div></section><section class="section" id="creating_a_rule"><div class="titlepage"><div><div><h3 class="title">3.2.3. Creating a rule</h3></div></div></div><p>
					Individual rules are contained within the <code class="literal">&lt;rules&gt;</code> element. They comprise one or more <code class="literal">when</code> conditions and perform actions.
				</p><p>
					See the <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">XML rule schema</a> for valid rule syntax.
				</p><section class="section" id="create-when-condition_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.2.3.1. Creating a <code class="literal">&lt;when&gt;</code> condition</h4></div></div></div><p>
						The XML rule <code class="literal">&lt;when&gt;</code> element tests for a condition. The following is a list of valid <code class="literal">&lt;when&gt;</code> conditions.
					</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216869200" scope="col">Element</th><th align="left" valign="top" id="idm46378216868112" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;and&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										The standard logical <span class="emphasis"><em>and</em></span> operator.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;filecontent&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Find strings or text within files, for example, properties files.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;file-mapping&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Define file names to internal stored File model.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;javaclass&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Test for a match in a Java class.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;javaclass-ignore&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Exclude javaclass that you would like to ignore in processing discovery.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;not&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										The standard logical <span class="emphasis"><em>not</em></span> operator.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;or&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										The standard logical <span class="emphasis"><em>or</em></span> operator.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;package-mapping&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Define package names to organization or libraries.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;project&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Test for project characteristics, such as dependencies.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;true&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Always match.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216869200">
									<p>
										&lt;xmlfile&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378216868112">
									<p>
										Test for a match in an XML file.
									</p>
									</td></tr></tbody></table></div><p>
						The specific syntax is dependent on whether you are creating a rule to evaluate Java class, an XML file, a project, or file content.
					</p></section><section class="section" id="create-perform-action_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.2.3.2. Creating a <code class="literal">&lt;perform&gt;</code> action</h4></div></div></div><p>
						The XML rule <code class="literal">&lt;perform&gt;</code> element performs the action when the condition is met. Operations allowed in this section of the rule include the classification of application resources, in-line hints for migration steps, links to migration information, and project line item reporting. The following is a list of valid <code class="literal">&lt;perform&gt;</code> actions.
					</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378223438032" scope="col">Element</th><th align="left" valign="top" id="idm46378223436944" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;classification&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This operation adds metadata that you want to apply to the entire file. For example, if the Java Class is a JMS Message Listener, you can add a Classification with the title "JMS Message Listener" that includes information that applies to the entire file. You can also set an effort level for the entire file.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;hint&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This operation adds metadata to a line within the file. This provides a hint or inline information about how to migrate a section of code.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;iteration&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This specifies to iterate over an implicit or explicit variable defined within the rule.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;lineitem&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This provides a high-level message that is displayed in the application overview page.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;link&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This provides an HTML link to additional information or documentation about the migration task.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378223438032">
									<p>
										&lt;xslt&gt;
									</p>
									</td><td align="left" valign="top" headers="idm46378223436944">
									<p>
										This specifies how to transform an XML file.
									</p>
									</td></tr></tbody></table></div></section></section></section><section class="section" id="xml-rules-syntax-mtr_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">3.3. XML rule syntax</h2></div></div></div><section class="section" id="xml-rule-when-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">3.3.1. <code class="literal">&lt;when&gt;</code> syntax</h3></div></div></div><p>
					Conditions allowed in the <code class="literal">when</code> portion of a rule must extend <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/config/operation/GraphOperation.html">GraphOperation</a> and currently include evaluation of Java classes, XML files, projects, and file content. Because XML rules are modeled after the Java-based rule add-ons, links to JavaDocs for the related Java classes are provided for a better understanding of how they behave.
				</p><p>
					The complete XML rule schema is located here: <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">http://windup.jboss.org/schema/windup-jboss-ruleset.xsd</a>.
				</p><p>
					The following sections describe the more common XML <code class="literal">when</code> rule conditions.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							&lt;javaclass&gt; condition syntax
						</li><li class="listitem">
							&lt;xmlfile&gt; condition syntax
						</li><li class="listitem">
							&lt;project&gt; condition syntax
						</li><li class="listitem">
							&lt;filecontent&gt; condition syntax
						</li><li class="listitem">
							&lt;file&gt; condition syntax
						</li><li class="listitem">
							&lt;has-hint&gt; condition syntax
						</li><li class="listitem">
							&lt;has-classification&gt; condition syntax
						</li><li class="listitem">
							&lt;graph-query&gt; condition syntax
						</li><li class="listitem">
							&lt;dependency&gt; condition syntax
						</li></ul></div><p>
					By default, if more than one <code class="literal">when</code> rule condition is provided, then all conditions must be met for the rule to match.
				</p><section class="section" id="javaclass-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.1. &lt;javaclass&gt; syntax</h4></div></div></div><section class="section" id="summary"><div class="titlepage"><div><div><h5 class="title">3.3.1.1.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;javaclass&gt;</code> element to find imports, methods, variable declarations, annotations, class implementations, and other items related to Java classes. For a better understanding of the <code class="literal">&lt;javaclass&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/rules/apps/java/condition/JavaClass.html">JavaClass</a> class.
						</p><p>
							The following is an example of a rule that tests for WebLogic-specific Apache XML packages:
						</p><pre class="programlisting language-xml">&lt;rule id="weblogic-03000"&gt;
    &lt;when&gt;
        &lt;javaclass references="weblogic.apache.xml.{*}" /&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;hint title="WebLogic Specific Apache XML Package" effort="1" category-id="mandatory"&gt;
            &lt;message&gt;
                Code using this package should be replaced with code using the org.apache.xml package from [Apache
                Xerces](http://xerces.apache.org/).
            &lt;/message&gt;
        &lt;/hint&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="construct_a_javaclass_element"><div class="titlepage"><div><div><h5 class="title">3.3.1.1.2. Construct a &lt;javaclass&gt; element</h5></div></div></div><section class="section" id="javaclass_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.1.2.1. &lt;javaclass&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378213013776" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378213012688" scope="col">Type</th><th align="left" valign="top" id="idm46378213011600" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378213013776">
											<p>
												references
											</p>
											</td><td align="left" valign="top" headers="idm46378213012688">
											<p>
												CLASS_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378213011600">
											<p>
												The package or class name to match on. Wildcard characters can be used. This attribute is required.
											</p>
											<div class="admonition note"><div class="admonition_header">Note</div><div><p>
													For performance reasons, you should not start the reference with wildcard characters. For example, use <code class="literal">weblogic.apache.xml.{*}</code> instead of <code class="literal">{web}.apache.xml.{*}</code>.
												</p></div></div>
											
<pre class="screen">references="weblogic.apache.xml.{*}"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378213013776">
											<p>
												matchesSource
											</p>
											</td><td align="left" valign="top" headers="idm46378213012688">
											<p>
												STRING
											</p>
											</td><td align="left" valign="top" headers="idm46378213011600">
											<p>
												An exact regex to match. This is useful to distinguish hard-coded strings. This attribute is required.
											</p>
											
<pre class="screen">matchesSource="log4j.logger"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378213013776">
											<p>
												as
											</p>
											</td><td align="left" valign="top" headers="idm46378213012688">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378213011600">
											<p>
												A variable name assigned to the rule so that it can be used as a reference in later processing. See the <code class="literal">from</code> attribute below.
											</p>
											
<pre class="screen">as="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378213013776">
											<p>
												from
											</p>
											</td><td align="left" valign="top" headers="idm46378213012688">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378213011600">
											<p>
												Begin the search query with the filtered result from a previous search identified by its <code class="literal">as</code> VARIABLE_NAME.
											</p>
											
<pre class="screen">from="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378213013776">
											<p>
												in
											</p>
											</td><td align="left" valign="top" headers="idm46378213012688">
											<p>
												PATH_FILTER
											</p>
											</td><td align="left" valign="top" headers="idm46378213011600">
											<p>
												Filter input files matching this regex (regular expression) naming pattern. Wildcard characters can be used.
											</p>
											
<pre class="screen">in="{*}File1"</pre>
											</td></tr></tbody></table></div></section><section class="section" id="javaclass_child_elements"><div class="titlepage"><div><div><h6 class="title">3.3.1.1.2.2. &lt;javaclass&gt; child elements</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218189776" scope="col">Child Element</th><th align="left" valign="top" id="idm46378220603984" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218189776">
											<p>
												&lt;location&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378220603984">
											<p>
												The location where the reference was found in a Java class. Location can refer to annotations, field and variable declarations, imports, and methods. For the complete list of valid values, see the JavaDoc for <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/ast/java/data/TypeReferenceLocation.html">TypeReferenceLocation</a>.
											</p>
											
<pre class="programlisting language-xml">&lt;location&gt;IMPORT&lt;/location&gt;</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378218189776">
											<p>
												&lt;annotation-literal&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378220603984">
											<p>
												Match on literal values inside of annotations.
											</p>
											<p>
												The following example matches on <code class="literal">@MyAnnotation(myvalue="test")</code>.
											</p>
											
<pre class="programlisting language-xml">&lt;javaclass references="org.package.MyAnnotation"&gt;
    &lt;location&gt;ANNOTATION&lt;/location&gt;
    &lt;annotation-literal name="myvalue" pattern="test"/&gt;
&lt;/javaclass&gt;</pre>
											<p>
												Note that in this case, the <code class="literal">&lt;javaclass&gt;</code> refers to an annotation (<code class="literal">@MyAnnotation</code>), so the top-level annotation filter, <code class="literal">&lt;annotation-literal&gt;</code> must specify the <code class="literal">name</code> attribute. If the <code class="literal">&lt;javaclass&gt;</code> referred to a class that is annotated, then the top-level annotation filter used would be <code class="literal">&lt;annotation-type&gt;</code>.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378218189776">
											<p>
												&lt;annotation-type&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378220603984">
											<p>
												Match on a particular annotation type. You can supply subconditions to be matched against the annotation elements.
											</p>
											<p>
												The below example would match on a <code class="literal">Calendar</code> field declaration annotated with <code class="literal">@MyAnnotation(myvalue="test")</code>.
											</p>
											
<pre class="programlisting language-xml">&lt;javaclass references="java.util.Calendar"&gt;
    &lt;location&gt;FIELD_DECLARATION&lt;/location&gt;
    &lt;annotation-type pattern="org.package.MyAnnotation"&gt;
        &lt;annotation-literal name="myvalue" pattern="test"/&gt;
    &lt;/annotation-type&gt;
&lt;/javaclass&gt;</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378218189776">
											<p>
												&lt;annotation-list&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378220603984">
											<p>
												Match on an item in an array within an annotation. If an array index is not specified, the condition will be matched if it applies to any item in the array. You can supply subconditions to be matched against this element.
											</p>
											<p>
												The below example would match on <code class="literal">@MyAnnotation(mylist={"one","two"})</code>.
											</p>
											
<pre class="programlisting language-xml">&lt;javaclass references="org.package.MyAnnotation" &gt;
    &lt;location&gt;ANNOTATION&lt;/location&gt;
    &lt;annotation-list name="mylist"&gt;
        &lt;annotation-literal pattern="two"/&gt;
    &lt;/annotation-list&gt;
&lt;/javaclass&gt;</pre>
											<p>
												Note that in this case, the <code class="literal">&lt;javaclass&gt;</code> refers to an annotation (<code class="literal">@MyAnnotation</code>), so the top-level annotation filter, <code class="literal">&lt;annotation-list&gt;</code> must specify the <code class="literal">name</code> attribute. If the <code class="literal">&lt;javaclass&gt;</code> referred to a class that is annotated, then the top-level annotation filter used would be <code class="literal">&lt;annotation-type&gt;</code>.
											</p>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="xmlfile-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.2. &lt;xmlfile&gt; syntax</h4></div></div></div><section class="section" id="summary_2"><div class="titlepage"><div><div><h5 class="title">3.3.1.2.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;xmlfile&gt;</code> element to find information in XML files. For a better understanding of the <code class="literal">&lt;xmlfile&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/rules/apps/xml/condition/XmlFile.html">XmlFile</a> class.
						</p><p>
							The following is an example of a rule that tests for an XML file:
						</p><pre class="screen">&lt;rule id="&lt;UNIQUE_RULE_ID&gt;"&gt;
    &lt;when&gt;
        &lt;xmlfile matches="/w:web-app/w:resource-ref/w:res-auth[text() = 'Container']"&gt;
            &lt;namespace prefix="w" uri="http://java.sun.com/xml/ns/javaee"/&gt;
        &lt;/xmlfile&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;hint title="Title for Hint from XML"&gt;
            &lt;message&gt;Container Auth&lt;/message&gt;
        &lt;/hint&gt;
        &lt;xslt description="Example XSLT Conversion" extension="-converted-example.xml"
              template="/exampleconversion.xsl"/&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="construct_an_xmlfile_element"><div class="titlepage"><div><div><h5 class="title">3.3.1.2.2. Construct an &lt;xmlfile&gt; element</h5></div></div></div><section class="section" id="xmlfile_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.2.2.1. &lt;xmlfile&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378220505200" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378220504112" scope="col">Type</th><th align="left" valign="top" id="idm46378216784320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												matches
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												XPATH
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												Match on an XML file condition.
											</p>
											
<pre class="screen">matches="/w:web-app/w:resource-ref/w:res-auth[text() = 'Container']"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												xpathResultMatch
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												XPATH_RESULT_STRING
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												Return results that match the given regex.
											</p>
											
<pre class="screen">&lt;xmlfile matches="//foo/text()"
  xpathResultMatch="Text from foo."/&gt;</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												as
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												A variable name assigned to the rule so that it can be used as a reference in later processing. See the <code class="literal">from</code> attribute below.
											</p>
											
<pre class="screen">as="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												in
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												PATH_FILTER
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												Used to filter input files matching this regex (regular expression) naming pattern. Wildcard characters can be used.
											</p>
											
<pre class="screen">in="{*}File1"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												from
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												Begin the search query with the filtered result from a previous search identified by its <code class="literal">as</code> VARIABLE_NAME.
											</p>
											
<pre class="screen">from="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378220505200">
											<p>
												public-id
											</p>
											</td><td align="left" valign="top" headers="idm46378220504112">
											<p>
												PUBLIC_ID
											</p>
											</td><td align="left" valign="top" headers="idm46378216784320">
											<p>
												The DTD public-id regex.
											</p>
											
<pre class="screen">public-id="public"</pre>
											</td></tr></tbody></table></div></section><section class="section" id="xmlfile_literal_matches_literal_custom_functions"><div class="titlepage"><div><div><h6 class="title">3.3.1.2.2.2. &lt;xmlfile&gt; <code class="literal">matches</code> custom functions</h6></div></div></div><p>
								The <code class="literal">matches</code> attribute may use several built-in custom XPath functions, which may have useful side effects, like setting the matched value on the rule variables stack.
							</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"/><col style="width: 50%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216429200" scope="col">Function</th><th align="left" valign="top" id="idm46378216428112" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216429200">
											<p>
												<code class="literal">windup:matches()</code>
											</p>
											</td><td align="left" valign="top" headers="idm46378216428112">
											<p>
												Match a XPath expression against a string, possibly containing MTR parameterization placeholders.
											</p>
											
<pre class="screen">matches="windup:matches(//foo/@class, '{javaclassname}')"</pre>
											<p>
												This will match all <code class="literal">&lt;foo/&gt;</code> elements with a <code class="literal">class</code> attribute and store their value into <code class="literal">javaclassname</code> parameter for each iteration.
											</p>
											</td></tr></tbody></table></div></section><section class="section" id="xmlfile_child_elements"><div class="titlepage"><div><div><h6 class="title">3.3.1.2.2.3. &lt;xmlfile&gt; child elements</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378214686016" scope="col">Child element</th><th align="left" valign="top" id="idm46378214684928" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378214686016">
											<p>
												&lt;namespace&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378214684928">
											<p>
												The namespace referenced in XML files. This element contains two optional attributes: The <code class="literal">prefix</code> and the <code class="literal">uri</code>.
											</p>
											
<pre class="programlisting language-xml">&lt;namespace prefix="abc" uri="http://maven.apache.org/POM/4.0.0"/&gt;</pre>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="project-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.3. &lt;project&gt; syntax</h4></div></div></div><section class="section" id="summary_3"><div class="titlepage"><div><div><h5 class="title">3.3.1.3.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;project&gt;</code> element to query the Maven POM file for the project characteristics. For a better understanding of the <code class="literal">&lt;project&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/project/condition/Project.html">Project</a> class.
						</p><p>
							The following is an example of a rule that checks for a JUnit dependency version between 2.0.0.Final and 2.2.0.Final.
						</p><pre class="programlisting language-xml">&lt;rule id="UNIQUE_RULE_ID"&gt;
    &lt;when&gt;
        &lt;project&gt;
            &lt;artifact groupId="junit" artifactId="junit" fromVersion="2.0.0.Final" toVersion="2.2.0.Final"/&gt;
        &lt;/project&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;lineitem message="The project uses junit with the version between 2.0.0.Final and 2.2.0.Final"/&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="construct_a_project_element"><div class="titlepage"><div><div><h5 class="title">3.3.1.3.2. Construct a &lt;project&gt; element</h5></div></div></div><section class="section" id="project_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.3.2.1. &lt;project&gt; element attributes</h6></div></div></div><p>
								The <code class="literal">&lt;project&gt;</code> element is used to match against the project’s Maven POM file. You can use this condition to query for dependencies of the project. It does not have any attributes itself.
							</p></section><section class="section" id="project_child_elements"><div class="titlepage"><div><div><h6 class="title">3.3.1.3.2.2. &lt;project&gt; child elements</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216380144" scope="col">Child element</th><th align="left" valign="top" id="idm46378216379056" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216380144">
											<p>
												&lt;artifact&gt;
											</p>
											</td><td align="left" valign="top" headers="idm46378216379056">
											<p>
												Subcondition used within <code class="literal">&lt;project&gt;</code> to query against project dependencies. The <code class="literal">&lt;artifact&gt;</code> element attributes are described below.
											</p>
											</td></tr></tbody></table></div></section><section class="section" id="artifact_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.3.2.3. &lt;artifact&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216116480" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378216115392" scope="col">Type</th><th align="left" valign="top" id="idm46378216114304" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216116480">
											<p>
												groupId
											</p>
											</td><td align="left" valign="top" headers="idm46378216115392">
											<p>
												PROJECT_GROUP_ID
											</p>
											</td><td align="left" valign="top" headers="idm46378216114304">
											<p>
												Match on the project <code class="literal">&lt;groupId&gt;</code> of the dependency.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216116480">
											<p>
												artifactId
											</p>
											</td><td align="left" valign="top" headers="idm46378216115392">
											<p>
												PROJECT_ARTIFACT_ID
											</p>
											</td><td align="left" valign="top" headers="idm46378216114304">
											<p>
												Match on the project <code class="literal">&lt;artifactId&gt;</code> of the dependency.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216116480">
											<p>
												fromVersion
											</p>
											</td><td align="left" valign="top" headers="idm46378216115392">
											<p>
												FROM_VERSION
											</p>
											</td><td align="left" valign="top" headers="idm46378216114304">
											<p>
												Specify the lower version bound of the artifact. For example <code class="literal">2.0.0.Final</code>.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216116480">
											<p>
												toVersion
											</p>
											</td><td align="left" valign="top" headers="idm46378216115392">
											<p>
												TO_VERSION
											</p>
											</td><td align="left" valign="top" headers="idm46378216114304">
											<p>
												Specify the upper version bound of the artifact. For example <code class="literal">2.2.0.Final</code>.
											</p>
											</td></tr></tbody></table></div><p>
								It is possible to qualify the element within the POM file that contains the artifact that the rule is searching for. This is achieved using the optional <code class="literal">&lt;location&gt;</code> element. The example below shows a rule that is searching for an artifact within the <code class="literal">&lt;plugins&gt;</code> element of the POM file.
							</p><div class="informalfigure"><div class="mediaobject"><img src="images/topics/images/search_for_artifact.png" alt="rule searching for artifact"/></div></div><p>
								The valid list of locations is as follows:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										DEPENDENCY_MANAGEMENT
									</li><li class="listitem">
										DEPENDENCIES
									</li><li class="listitem">
										PLUGIN_MANAGEMENT
									</li><li class="listitem">
										PLUGINS
									</li><li class="listitem">
										PARENT
									</li></ul></div></section></section></section><section class="section" id="filecontent-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.4. &lt;filecontent&gt; syntax</h4></div></div></div><section class="section" id="summary_4"><div class="titlepage"><div><div><h5 class="title">3.3.1.4.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;filecontent&gt;</code> element to find strings or text within files, for example, a line in a Properties file. For a better understanding of the <code class="literal">&lt;filecontent&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/rules/files/condition/FileContent.html">FileContent</a> class.
						</p></section><section class="section" id="construct_a_filecontent_element"><div class="titlepage"><div><div><h5 class="title">3.3.1.4.2. Construct a &lt;filecontent&gt; element</h5></div></div></div><section class="section" id="filecontent_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.4.2.1. &lt;filecontent&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216091040" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378216089952" scope="col">Type</th><th align="left" valign="top" id="idm46378216088864" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216091040">
											<p>
												pattern
											</p>
											</td><td align="left" valign="top" headers="idm46378216089952">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378216088864">
											<p>
												Match the file contents against the provided parameterized string. This attribute is required.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216091040">
											<p>
												filename
											</p>
											</td><td align="left" valign="top" headers="idm46378216089952">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378216088864">
											<p>
												Match the file names against the provided parameterized string.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216091040">
											<p>
												as
											</p>
											</td><td align="left" valign="top" headers="idm46378216089952">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378216088864">
											<p>
												A variable name assigned to the rule so that it can be used as a reference in later processing. See the <code class="literal">from</code> attribute below.
											</p>
											
<pre class="screen">as="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216091040">
											<p>
												from
											</p>
											</td><td align="left" valign="top" headers="idm46378216089952">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378216088864">
											<p>
												Begin the search query with the filtered result from a previous search identified by its <code class="literal">as</code> VARIABLE_NAME.
											</p>
											
<pre class="screen">from="MyEjbRule"</pre>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="file-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.5. &lt;file&gt; syntax</h4></div></div></div><section class="section" id="summary_5"><div class="titlepage"><div><div><h5 class="title">3.3.1.5.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;file&gt;</code> element to find the existence of files with a specific name, for example, an <code class="literal">ibm-webservices-ext.xmi</code> file. For a better understanding of the <code class="literal">&lt;file&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/rules/files/condition/File.html">File</a> class.
						</p></section><section class="section" id="construct_a_file_element"><div class="titlepage"><div><div><h5 class="title">3.3.1.5.2. Construct a &lt;file&gt; element</h5></div></div></div><section class="section" id="file_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.5.2.1. &lt;file&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378215570496" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378215569408" scope="col">Type</th><th align="left" valign="top" id="idm46378215568320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378215570496">
											<p>
												filename
											</p>
											</td><td align="left" valign="top" headers="idm46378215569408">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378215568320">
											<p>
												Match the file names against the provided parameterized string. This attribute is required.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378215570496">
											<p>
												as
											</p>
											</td><td align="left" valign="top" headers="idm46378215569408">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378215568320">
											<p>
												A variable name assigned to the rule so that it can be used as a reference in later processing. See the <code class="literal">from</code> attribute below.
											</p>
											
<pre class="screen">as="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378215570496">
											<p>
												from
											</p>
											</td><td align="left" valign="top" headers="idm46378215569408">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378215568320">
											<p>
												Begin the search query with the filtered result from a previous search identified by its <code class="literal">as</code> VARIABLE_NAME.
											</p>
											<p>
												<span class="emphasis"><em>Example:</em></span>
											</p>
											
<pre class="screen">from="MyEjbRule"</pre>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="has-hint-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.6. &lt;has-hint&gt; syntax</h4></div></div></div><section class="section" id="summary_6"><div class="titlepage"><div><div><h5 class="title">3.3.1.6.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;has-hint&gt;</code> element to test whether a file or line has a hint already associated with it. It is primarily used to prevent firing if a hint already exists, or to implement rules for default execution when no other conditions apply. For a better understanding of the <code class="literal">&lt;has-hint&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/reporting/config/HasHint.html">HasHint</a> class.
						</p><p>
							The following is an example of a rule that checks to see if a hint exists for an IBM JMS destination message, and if not, includes it.
						</p><pre class="programlisting language-xml">&lt;rule id="websphere-jms-eap7-03000"&gt;
  &lt;when&gt;
    &lt;javaclass references="{package}.{prefix}{type}Message" /&gt;
  &lt;/when&gt;
  &lt;perform&gt;
    &lt;iteration&gt;
      &lt;when&gt;
        &lt;not&gt;
          &lt;has-hint /&gt;
        &lt;/not&gt;
      &lt;/when&gt;
      &lt;perform&gt;
        &lt;hint title="IBM JMS destination message" effort="1" category-id="mandatory"&gt;
          &lt;message&gt;
            JMS `{package}.{prefix}{type}Message` messages represent the actual data passed through JMS destinations. This reference should be
            replaced with the Java EE standard API `javax.jms.{type}Message`.
          &lt;/message&gt;
          &lt;link href="https://docs.oracle.com/javaee/7/tutorial/jms-concepts003.htm#sthref2271" title="Java EE 7 JMS Tutorial - Message API" /&gt;
          &lt;tag&gt;jms&lt;/tag&gt;
          &lt;tag&gt;websphere&lt;/tag&gt;
        &lt;/hint&gt;
      &lt;/perform&gt;
    &lt;/iteration&gt;
  &lt;/perform&gt;
  &lt;where param="type"&gt;
    &lt;matches pattern="(Text|Stream|Object|Map|Bytes)?" /&gt;
  &lt;/where&gt;
  &lt;where param="prefix"&gt;
    &lt;matches pattern="(JMS|MQe|MQ)" /&gt;
  &lt;/where&gt;
  &lt;where param="package"&gt;
    &lt;matches pattern="com.ibm(\..*)?\.jms" /&gt;
  &lt;/where&gt;
&lt;/rule&gt;</pre></section><section class="section" id="construct_a_has_hint"><div class="titlepage"><div><div><h5 class="title">3.3.1.6.2. Construct a &lt;has-hint&gt;</h5></div></div></div><p>
							The <code class="literal">&lt;has-hint&gt;</code> element is used to determine if a hint exists for a file or line. It does not have any child elements.
						</p><section class="section" id="has_hint_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.6.2.1. &lt;has-hint&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216647680" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378216646592" scope="col">Type</th><th align="left" valign="top" id="idm46378216645504" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216647680">
											<p>
												message
											</p>
											</td><td align="left" valign="top" headers="idm46378216646592">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378216645504">
											<p>
												An optional argument allowing you to match the hint against the provided message string.
											</p>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="has-classification-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.7. &lt;has-classification&gt; syntax</h4></div></div></div><section class="section" id="summary_7"><div class="titlepage"><div><div><h5 class="title">3.3.1.7.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;has-classification&gt;</code> element to test whether a file or line has a classification. It is primarily used to prevent firing if a classification already exists, or to implement rules for default execution when no other conditions apply. For a better understanding of the <code class="literal">&lt;has-classification&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/reporting/config/HasClassification.html">HasClassification</a> class.
						</p></section><section class="section" id="construct_a_has_classification"><div class="titlepage"><div><div><h5 class="title">3.3.1.7.2. Construct a &lt;has-classification&gt;</h5></div></div></div><p>
							The <code class="literal">has-classification</code> element is used to determine if a specified classification exists. It does not have any child elements.
						</p><section class="section" id="has_classification_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.7.2.1. &lt;has-classification&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218091248" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378218090160" scope="col">Type</th><th align="left" valign="top" id="idm46378218089072" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218091248">
											<p>
												title
											</p>
											</td><td align="left" valign="top" headers="idm46378218090160">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378218089072">
											<p>
												An optional title to match the classification against.
											</p>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="graph-query-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.8. &lt;graph-query&gt; syntax</h4></div></div></div><section class="section" id="summary_8"><div class="titlepage"><div><div><h5 class="title">3.3.1.8.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;graph-query&gt;</code> element to search the generated graph for any elements. This element is primarily used to search for specific archives. For a better understanding of the <code class="literal">&lt;graph-query&gt;</code> condition, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/config/parser/xml/when/QueryHandler.html">QueryHandler</a> class.
						</p><p>
							The following is an example of a rule that tests to determine if any <code class="literal">ehcache</code> packages are found.
						</p><pre class="programlisting language-xml">&lt;rule id="embedded-cache-libraries-01000"&gt;
    &lt;when&gt;
        &lt;graph-query discriminator="JarArchiveModel"&gt;
            &lt;property name="fileName" searchType="regex"&gt;.*ehcache.*\.jar$&lt;/property&gt;
        &lt;/graph-query&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;classification title="Caching - Ehcache embedded library" category-id="cloud-mandatory" effort="5"&gt;
            &lt;description&gt;
                The application embeds an Ehcache library.

                Cloud readiness issue as potential state information that is not persisted to a backing service.
            &lt;/description&gt;
        &lt;/classification&gt;
        &lt;technology-tag level="INFORMATIONAL"&gt;Ehcache (embedded)&lt;/technology-tag&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="construct_a_graph_query"><div class="titlepage"><div><div><h5 class="title">3.3.1.8.2. Construct a &lt;graph-query&gt;</h5></div></div></div><section class="section" id="graph_query_element_attributes"><div class="titlepage"><div><div><h6 class="title">3.3.1.8.2.1. &lt;graph-query&gt; element attributes</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378214349856" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378214348768" scope="col">Type</th><th align="left" valign="top" id="idm46378214347680" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378214349856">
											<p>
												discriminator
											</p>
											</td><td align="left" valign="top" headers="idm46378214348768">
											<p>
												MODEL_TYPE
											</p>
											</td><td align="left" valign="top" headers="idm46378214347680">
											<p>
												The type of model to use for searching. This can be any valid model; however, it is recommended to use the <code class="literal">JarArchiveModel</code> for examining archives. This attribute is required.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378214349856">
											<p>
												as
											</p>
											</td><td align="left" valign="top" headers="idm46378214348768">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378214347680">
											<p>
												A variable name assigned to the rule so that it can be used as a reference in later processing. See the <code class="literal">from</code> attribute below.
											</p>
											
<pre class="programlisting language-terminal">as="MyEjbRule"</pre>
											</td></tr><tr><td align="left" valign="top" headers="idm46378214349856">
											<p>
												from
											</p>
											</td><td align="left" valign="top" headers="idm46378214348768">
											<p>
												VARIABLE_NAME
											</p>
											</td><td align="left" valign="top" headers="idm46378214347680">
											<p>
												Begin the search query with the filtered result from a previous search identified by its <code class="literal">as</code> VARIABLE_NAME.
											</p>
											
<pre class="programlisting language-terminal">from="MyEjbRule"</pre>
											</td></tr></tbody></table></div></section><section class="section" id="graph_query_properties"><div class="titlepage"><div><div><h6 class="title">3.3.1.8.2.2. &lt;graph-query&gt; properties</h6></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216065904" scope="col">Property Name</th><th align="left" valign="top" id="idm46378216064816" scope="col">Type</th><th align="left" valign="top" id="idm46378216063728" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216065904">
											<p>
												name
											</p>
											</td><td align="left" valign="top" headers="idm46378216064816">
											<p>
												String
											</p>
											</td><td align="left" valign="top" headers="idm46378216063728">
											<p>
												The name of the attribute to match against within the chosen model. When using any file-based models, it is recommended to match on <code class="literal">fileName</code>. This attribute is required.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216065904">
											<p>
												type
											</p>
											</td><td align="left" valign="top" headers="idm46378216064816">
											<p>
												property-type
											</p>
											</td><td align="left" valign="top" headers="idm46378216063728">
											<p>
												Defines the expected type of property, either <code class="literal">STRING</code> or <code class="literal">BOOLEAN</code>.
											</p>
											</td></tr><tr><td align="left" valign="top" headers="idm46378216065904">
											<p>
												searchType
											</p>
											</td><td align="left" valign="top" headers="idm46378216064816">
											<p>
												property-search-type
											</p>
											</td><td align="left" valign="top" headers="idm46378216063728">
											<p>
												Defines how the condition is matched. If set to <code class="literal">equals</code>, then an exact match must be made. If using <code class="literal">regex</code>, then regular expressions can be used.
											</p>
											</td></tr></tbody></table></div></section></section></section><section class="section" id="dependency-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.1.9. &lt;dependency&gt; syntax</h4></div></div></div><section class="section" id="summary_9"><div class="titlepage"><div><div><h5 class="title">3.3.1.9.1. Summary</h5></div></div></div><p>
							Use the <code class="literal">&lt;dependency&gt;</code> element to search dependencies defined within the application’s POM file to determine whether they are supported by the target runtime.
						</p><p>
							The following is an example of a rule that checks for all artifacts belonging to the <code class="literal">org.springframework.boot</code> group that have a version up to, and including, 1.6.0.
						</p><pre class="programlisting language-xml">&lt;rule id="springboot-00001"&gt;
    &lt;!-- rule condition, when it could be fired --&gt;
    &lt;when&gt;
        &lt;dependency groupId="org.springframework.boot" artifactId="{*}" toVersion="1.6.0" /&gt;
    &lt;/when&gt;
    &lt;!-- rule operation, what to do if it is fired --&gt;
    &lt;perform&gt;
        &lt;hint title="Unsupported version of Spring Boot" effort="3" category-id="mandatory"&gt;
            &lt;message&gt;Spring Boot has to be updated to Spring Boot 2.0 before being able to be migrated to a version supported by Red Hat Runtimes&lt;/message&gt;
            &lt;link href="https://access.redhat.com/articles/3349341" title="RHOAR Spring Boot Supported Configurations" /&gt;
            &lt;link href="https://access.redhat.com/articles/3348731" title="RHOAR Component Details Overview" /&gt;
            &lt;link href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide" title="Spring Boot 2.0 Migration Guide" /&gt;
        &lt;/hint&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section></section></section><section class="section" id="xml-rule-perform-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">3.3.2. <code class="literal">&lt;perform&gt;</code> syntax</h3></div></div></div><p>
					Operations available in the <code class="literal">perform</code> section of the rule include the classification of application resources, in-line hints for migration steps, links to migration information, and project lineitem reporting. Because XML rules are modeled after the Java-based rule add-ons, links to JavaDocs for the related Java classes are provided for a better understanding of how they behave.
				</p><p>
					You can view the <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">complete XML rule schema</a>.
				</p><p>
					The following sections describe the more common XML rule perform actions.
				</p><section class="section" id="classification-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.1. &lt;classification&gt; syntax</h4></div></div></div><section class="section" id="summary_10"><div class="titlepage"><div><div><h5 class="title">3.3.2.1.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;classification&gt;</code> element is used to identify or classify application resources that match the rule. It provides a title that is displayed in the report, a level of effort, and it can also provide links to additional information about how to migrate this resource classification. For a better understanding of the <code class="literal">&lt;classification&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/reporting/config/classification/Classification.html">Classification</a> class.
						</p><p>
							The following is an example of a rule that classifies a resource as a WebLogic EAR application deployment descriptor file.
						</p><pre class="programlisting language-xml">&lt;rule id="XmlWebLogicRules_10vvyf"&gt;
    &lt;when&gt;
        &lt;xmlfile as="default" matches="/*[local-name()='weblogic-application']"&gt;&lt;/xmlfile&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;iteration&gt;
            &lt;classification title="Weblogic EAR Application Descriptor" effort="3"/&gt;
        &lt;/iteration&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="classification_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.1.2. &lt;classification&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378217276640" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378217275552" scope="col">Type</th><th align="left" valign="top" id="idm46378217274464" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378217276640">
										<p>
											title
										</p>
										</td><td align="left" valign="top" headers="idm46378217275552">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378217274464">
										<p>
											The title given to this resource. This attribute is required.
										</p>
										
<pre class="screen">title="JBoss Seam Components"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378217276640">
										<p>
											effort
										</p>
										</td><td align="left" valign="top" headers="idm46378217275552">
										<p>
											BYTE
										</p>
										</td><td align="left" valign="top" headers="idm46378217274464">
										<p>
											The level of effort assigned to this resource.
										</p>
										
<pre class="screen">effort="2"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378217276640">
										<p>
											category-id
										</p>
										</td><td align="left" valign="top" headers="idm46378217275552">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378217274464">
										<p>
											A reference to a category as defined in <code class="literal">MTR_HOME/rules/migration-core/core.windup.categories.xml</code>. The default categories are <code class="literal">mandatory</code>, <code class="literal">optional</code>, <code class="literal">potential</code>, and <code class="literal">information</code>.
										</p>
										
<pre class="screen">category-id="mandatory"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378217276640">
										<p>
											of
										</p>
										</td><td align="left" valign="top" headers="idm46378217275552">
										<p>
											VARIABLE_NAME
										</p>
										</td><td align="left" valign="top" headers="idm46378217274464">
										<p>
											Create a new classification for the given reference.
										</p>
										
<pre class="screen">of="MySeamRule"</pre>
										</td></tr></tbody></table></div></section><section class="section" id="classification_child_elements"><div class="titlepage"><div><div><h5 class="title">3.3.2.1.3. &lt;classification&gt; child elements</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378219591120" scope="col">Child element</th><th align="left" valign="top" id="idm46378219590032" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378219591120">
										<p>
											&lt;link&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378219590032">
										<p>
											Provides a link URI and text title for additional information.
										</p>
										
<pre class="programlisting language-xml">&lt;classification title="Websphere Startup Service" effort="4"&gt;
   &lt;link href="http://docs.oracle.com/javaee/6/api/javax/ejb/Singleton.html" title="EJB3.1 Singleton Bean"/&gt;
   &lt;link href="http://docs.oracle.com/javaee/6/api/javax/ejb/Startup.html" title="EJB3.1 Startup Bean"/&gt;
&lt;/classification&gt;</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378219591120">
										<p>
											&lt;tag&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378219590032">
										<p>
											Provides additional custom information for the classification.
										</p>
										
<pre class="programlisting language-xml">&lt;tag&gt;Seam3&lt;/tag&gt;</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378219591120">
										<p>
											&lt;description&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378219590032">
										<p>
											Description of this resource
										</p>
										
<pre class="programlisting language-xml">&lt;description&gt;JBoss Seam components must be replaced&lt;/description&gt;</pre>
										</td></tr></tbody></table></div></section></section><section class="section" id="link-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.2. &lt;link&gt; syntax</h4></div></div></div><section class="section" id="summary_11"><div class="titlepage"><div><div><h5 class="title">3.3.2.2.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;link&gt;</code> element is used in classifications or hints to provide links to informational content. For a better understanding of the <code class="literal">&lt;link&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/reporting/config/Link.html">Link</a> class.
						</p><p>
							The following is an example of a rule that creates links to additional information.
						</p><pre class="programlisting language-xml">&lt;rule id="SeamToCDIRules_2fmb"&gt;
    &lt;when&gt;
        &lt;javaclass references="org.jboss.seam.{*}" as="default"/&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;iteration&gt;
            &lt;classification title="SEAM Component" effort="1"&gt;
                &lt;link href="http://www.seamframework.org/Seam3/Seam2ToSeam3MigrationNotes" title="Seam 2 to Seam 3 Migration Notes"/&gt;
                &lt;link href="http://docs.jboss.org/weld/reference/latest/en-US/html/example.html" title="JSF Web Application Example"/&gt;
                &lt;link href="http://docs.jboss.org/weld/reference/latest/en-US/html/contexts.html" title="JBoss Context Documentation"/&gt;
                &lt;link href="http://www.andygibson.net/blog/tutorial/cdi-conversations-part-2/" title="CDI Conversations Blog Post"/&gt;
            &lt;/classification&gt;
        &lt;/iteration&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="link_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.2.2. &lt;link&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378214667600" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378214666512" scope="col">Type</th><th align="left" valign="top" id="idm46378214665424" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378214667600">
										<p>
											href
										</p>
										</td><td align="left" valign="top" headers="idm46378214666512">
										<p>
											URI
										</p>
										</td><td align="left" valign="top" headers="idm46378214665424">
										<p>
											The URI for the referenced link.
										</p>
										
<pre class="screen">href="https://access.redhat.com/articles/1249423"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378214667600">
										<p>
											title
										</p>
										</td><td align="left" valign="top" headers="idm46378214666512">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378214665424">
										<p>
											A title for the link.
										</p>
										
<pre class="screen">title="Migrate WebLogic Proprietary Servlet Annotations"</pre>
										</td></tr></tbody></table></div></section></section><section class="section" id="hint-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.3. &lt;hint&gt; syntax</h4></div></div></div><section class="section" id="summary_12"><div class="titlepage"><div><div><h5 class="title">3.3.2.3.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;hint&gt;</code> element is used to provide a hint or inline information about how to migrate a section of code. For a better understanding of the <code class="literal">&lt;hint&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/reporting/config/Hint.html">Hint</a> class.
						</p><p>
							The following is an example of a rule that creates a hint.
						</p><pre class="programlisting language-xml">&lt;rule id="WebLogicWebServiceRules_8jyqn"&gt;
    &lt;when&gt;
        &lt;javaclass references="weblogic.wsee.connection.transport.http.HttpTransportInfo.setUsername({*})" as="default"&gt;
            &lt;location&gt;METHOD&lt;/location&gt;
        &lt;/javaclass&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;iteration&gt;
            &lt;hint title="Proprietary web-service" category-id="mandatory" effort="3"&gt;
                &lt;message&gt;Replace proprietary web-service authentication with JAX-WS standards.&lt;/message&gt;
                &lt;link href="http://java-x.blogspot.com/2009/03/invoking-web-services-through-proxy.html" title="JAX-WS Proxy Password Example"/&gt;
            &lt;/hint&gt;
        &lt;/iteration&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="hint_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.3.2. &lt;hint&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218258304" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378218257216" scope="col">Type</th><th align="left" valign="top" id="idm46378218256128" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218258304">
										<p>
											title
										</p>
										</td><td align="left" valign="top" headers="idm46378218257216">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378218256128">
										<p>
											Title this hint using the specified string. This attribute is required.
										</p>
										
<pre class="screen">title="JBoss Seam Component Hint"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378218258304">
										<p>
											category-id
										</p>
										</td><td align="left" valign="top" headers="idm46378218257216">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378218256128">
										<p>
											A reference to a category as defined in <code class="literal">MTR_HOME/rules/migration-core/core.windup.categories.xml</code>. The default categories are <code class="literal">mandatory</code>, <code class="literal">optional</code>, <code class="literal">potential</code>, and <code class="literal">information</code>.
										</p>
										
<pre class="screen">category-id="mandatory"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378218258304">
										<p>
											in
										</p>
										</td><td align="left" valign="top" headers="idm46378218257216">
										<p>
											VARIABLE_NAME
										</p>
										</td><td align="left" valign="top" headers="idm46378218256128">
										<p>
											Create a new Hint in the FileLocationModel resolved by the given variable.
										</p>
										
<pre class="screen">in="Foo"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378218258304">
										<p>
											effort
										</p>
										</td><td align="left" valign="top" headers="idm46378218257216">
										<p>
											BYTE
										</p>
										</td><td align="left" valign="top" headers="idm46378218256128">
										<p>
											The level of effort assigned to this resource.
										</p>
										
<pre class="screen">effort="2"</pre>
										</td></tr></tbody></table></div></section><section class="section" id="hint_child_elements"><div class="titlepage"><div><div><h5 class="title">3.3.2.3.3. &lt;hint&gt; child elements</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216174992" scope="col">Child element</th><th align="left" valign="top" id="idm46378216173904" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216174992">
										<p>
											&lt;message&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378216173904">
										<p>
											A message describing the migration hint.
										</p>
										
<pre class="programlisting language-xml">&lt;message&gt;EJB 2.0 is deprecated&lt;/message&gt;</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216174992">
										<p>
											&lt;link&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378216173904">
										<p>
											Identify or classify links to informational content.
										</p>
										
<pre class="programlisting language-xml">&lt;link href="http://docs.oracle.com/javaee/6/api/" title="Java Platform, Enterprise Edition 6
API Specification" /&gt;</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216174992">
										<p>
											&lt;tag&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378216173904">
										<p>
											Define a custom tag for this <code class="literal">hint</code>.
										</p>
										
<pre class="programlisting language-xml">&lt;tag&gt;Needs review&lt;/tag&gt;</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216174992">
										<p>
											&lt;quickfix&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378216173904">
										<p>
											Contains information to be used by the MTR plugin to perform quick fixes when the rule condition is met.
										</p>
										
<pre class="programlisting language-xml">&lt;quickfix name="slink-qf" type="REPLACE"&gt;
    &lt;replacement&gt;h:link&lt;/replacement&gt;
    &lt;search&gt;s:link&lt;/search&gt;
&lt;/quickfix&gt;</pre>
										</td></tr></tbody></table></div></section></section><section class="section" id="xslt-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.4. &lt;xslt&gt; syntax</h4></div></div></div><section class="section" id="summary_13"><div class="titlepage"><div><div><h5 class="title">3.3.2.4.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;xslt&gt;</code> element specifies how to transform an XML file. For a better understanding of the <code class="literal">&lt;xslt&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/rules/apps/xml/operation/xslt/XSLTTransformation.html">XSLTTransformation</a> class.
						</p><p>
							The following is an example of rule that defines an XSLT action.
						</p><pre class="programlisting language-xml">&lt;rule id="XmlWebLogicRules_6bcvk"&gt;
    &lt;when&gt;
        &lt;xmlfile as="default" matches="/weblogic-ejb-jar"/&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;iteration&gt;
            &lt;classification title="Weblogic EJB XML" effort="3"/&gt;
            &lt;xslt title="JBoss EJB Descriptor (Windup-Generated)" template="transformations/xslt/weblogic-ejb-to-jboss.xsl" extension="-jboss.xml"/&gt;
        &lt;/iteration&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="xslt_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.4.2. &lt;xslt&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216362976" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378216361888" scope="col">Type</th><th align="left" valign="top" id="idm46378216360800" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216362976">
										<p>
											title
										</p>
										</td><td align="left" valign="top" headers="idm46378216361888">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378216360800">
										<p>
											Sets the title for this XSLTTransformation in the report. This attribute is required.
										</p>
										
<pre class="screen">title="XSLT Transformed Output"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216362976">
										<p>
											of
										</p>
										</td><td align="left" valign="top" headers="idm46378216361888">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378216360800">
										<p>
											Create a new transformation for the given reference.
										</p>
										
<pre class="screen">of="testVariable_instance"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216362976">
										<p>
											extension
										</p>
										</td><td align="left" valign="top" headers="idm46378216361888">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378216360800">
										<p>
											Sets the extension for this XSLTTransformation. This attribute is required.
										</p>
										
<pre class="screen">extension="-result.html"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216362976">
										<p>
											template
										</p>
										</td><td align="left" valign="top" headers="idm46378216361888">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378216360800">
										<p>
											Sets the XSL template. This attribute is required.
										</p>
										
<pre class="screen">template="simpleXSLT.xsl"</pre>
										</td></tr><tr><td align="left" valign="top" headers="idm46378216362976">
										<p>
											effort
										</p>
										</td><td align="left" valign="top" headers="idm46378216361888">
										<p>
											BYTE
										</p>
										</td><td align="left" valign="top" headers="idm46378216360800">
										<p>
											The level of effort required for the transformation.
										</p>
										</td></tr></tbody></table></div></section><section class="section" id="xslt_child_elements"><div class="titlepage"><div><div><h5 class="title">3.3.2.4.3. &lt;xslt&gt; child elements</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216144336" scope="col">Child element</th><th align="left" valign="top" id="idm46378216143248" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216144336">
										<p>
											&lt;xslt-parameter&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378216143248">
										<p>
											Specify XSLTTransformation parameters as property value pairs
										</p>
										
<pre class="programlisting language-xml">&lt;xslt-parameter property="title" value="EJB Transformation"/&gt;</pre>
										</td></tr></tbody></table></div></section></section><section class="section" id="lineitem-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.5. &lt;lineitem&gt; syntax</h4></div></div></div><section class="section" id="summary_14"><div class="titlepage"><div><div><h5 class="title">3.3.2.5.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;lineitem&gt;</code> element is used to provide general migration requirements for the application, such as the need to replace deprecated libraries or the need to resolve potential class loading issues. This information is displayed on the project or application overview page. For a better understanding of the <code class="literal">&lt;lineitem&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/project/operation/LineItem.html">LineItem</a> class.
						</p><p>
							The following is an example of a rule that creates a lineitem message.
						</p><pre class="programlisting language-xml">&lt;rule id="weblogic_servlet_annotation_1000"&gt;
    &lt;when&gt;
        &lt;javaclass references="weblogic.servlet.annotation.WLServlet" as="default"&gt;
            &lt;location&gt;ANNOTATION&lt;/location&gt;
        &lt;/javaclass&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;hint effort="1"&gt;
            &lt;message&gt;Replace the proprietary WebLogic @WLServlet annotation with the Java EE 6 standard @WebServlet annotation.&lt;/message&gt;
            &lt;link href="https://access.redhat.com/articles/1249423" title="Migrate WebLogic Proprietary Servlet Annotations" /&gt;
            &lt;lineitem message="Proprietary WebLogic @WLServlet annotation found in file."/&gt;
        &lt;/hint&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="lineitem_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.5.2. &lt;lineitem&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218575136" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378218574048" scope="col">Type</th><th align="left" valign="top" id="idm46378218572960" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218575136">
										<p>
											message
										</p>
										</td><td align="left" valign="top" headers="idm46378218574048">
										<p>
											STRING
										</p>
										</td><td align="left" valign="top" headers="idm46378218572960">
										<p>
											A lineitem message.
										</p>
										
<pre class="screen">message="Proprietary code found."</pre>
										</td></tr></tbody></table></div></section></section><section class="section" id="iteration-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">3.3.2.6. &lt;iteration&gt; syntax</h4></div></div></div><section class="section" id="summary_15"><div class="titlepage"><div><div><h5 class="title">3.3.2.6.1. Summary</h5></div></div></div><p>
							The <code class="literal">&lt;iteration&gt;</code> element specifies to iterate over an implicit or explicit variable defined within the rule. For a better understanding of the <code class="literal">&lt;iteration&gt;</code> action, see the JavaDoc for the <a class="link" href="http://windup.github.io/windup/docs/latest/javadoc/org/jboss/windup/config/operation/Iteration.html">Iteration</a> class.
						</p><p>
							The following is an example of a rule that performs an iteration.
						</p><pre class="programlisting language-xml">&lt;rule id="jboss-eap5-xml-19000"&gt;
    &lt;when&gt;
        &lt;xmlfile as="jboss-app" matches="/jboss-app"/&gt;
        &lt;xmlfile as="jboss-app-no-DTD" matches="/jboss-app" public-id=""/&gt;
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;iteration over="jboss-app"&gt;
            &lt;classification title="JBoss application Descriptor" effort="5"/&gt;
        &lt;/iteration&gt;
        &lt;iteration over="jboss-app-no-DTD"&gt;
            &lt;classification title="JBoss application descriptor with missing DTD" effort="5"/&gt;
        &lt;/iteration&gt;
        &lt;iteration over="jboss-app-no-DTD"&gt;
            &lt;xslt title="JBoss application descriptor - JBoss 5 (Windup-generated)" template="transformations/xslt/jboss-app-to-jboss5.xsl" extension="-jboss5.xml"/&gt;
        &lt;/iteration&gt;
    &lt;/perform&gt;
&lt;/rule&gt;</pre></section><section class="section" id="iteration_element_attributes"><div class="titlepage"><div><div><h5 class="title">3.3.2.6.2. &lt;iteration&gt; element attributes</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378219563392" scope="col">Attribute name</th><th align="left" valign="top" id="idm46378219562304" scope="col">Type</th><th align="left" valign="top" id="idm46378219561216" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378219563392">
										<p>
											over
										</p>
										</td><td align="left" valign="top" headers="idm46378219562304">
										<p>
											VARIABLE_NAME
										</p>
										</td><td align="left" valign="top" headers="idm46378219561216">
										<p>
											Iterate over the condition identified by this VARIABLE_NAME.
										</p>
										
<pre class="screen">over="jboss-app"</pre>
										</td></tr></tbody></table></div></section><section class="section" id="iteration_child_elements"><div class="titlepage"><div><div><h5 class="title">3.3.2.6.3. &lt;iteration&gt; child elements</h5></div></div></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 80%; " class="col_2"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378219547232" scope="col">Child Element</th><th align="left" valign="top" id="idm46378219546144" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378219547232">
										<p>
											&lt;iteration&gt;
										</p>
										</td><td align="left" valign="top" headers="idm46378219546144">
										<p>
											Child elements include a <code class="literal">when</code> condition, along with the actions <code class="literal">iteration</code>, <code class="literal">classification</code>, <code class="literal">hint</code>, <code class="literal">xslt</code>, <code class="literal">lineitem</code>, and <code class="literal">otherwise</code>.
										</p>
										</td></tr></tbody></table></div></section></section></section><section class="section" id="where-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">3.3.3. <code class="literal">&lt;where&gt;</code> syntax</h3></div></div></div><p>
					You can define parameters that specify a matching pattern to be used in other elements of an XML rule. This can help simplify the patterns for complex matching expressions.
				</p><p>
					Use the <code class="literal">&lt;where&gt;</code> element to define a parameter. Specify the parameter name using the <code class="literal">param</code> attribute and supply the pattern using the <code class="literal">&lt;matches&gt;</code> element. This parameter can then be referenced elsewhere in the rule definition using the syntax <code class="literal">{&lt;PARAM_NAME&gt;}</code>.
				</p><p>
					You can view the <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">complete XML rule schema</a>.
				</p><p>
					The following example rule defines a parameter named <code class="literal">subpackage</code> that specifies a pattern of <code class="literal">(activeio|activemq)</code>.
				</p><pre class="programlisting language-xml">&lt;rule id="generic-catchall-00600"&gt;
  &lt;when&gt;
    &lt;javaclass references="org.apache.{subpackage}.{*}"&gt;
    &lt;/javaclass&gt;
  &lt;/when&gt;
  &lt;perform&gt;
    ...
  &lt;/perform&gt;
  &lt;where param="subpackage"&gt;
    &lt;matches pattern="(activeio|activemq)" /&gt;
  &lt;/where&gt;
&lt;/rule&gt;</pre><p>
					The pattern defined by <code class="literal">subpackage</code> will then be substituted in the <code class="literal">&lt;javaclass&gt;</code> <code class="literal">references</code> attribute. This causes the rule to match on <code class="literal">org.apache.activeio.*</code> and <code class="literal">org.apache.activemq.*</code> packages.
				</p></section></section><section class="section" id="add-rule-to-mtr_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">3.4. Adding a rule to the Migration Toolkit for Runtimes</h2></div></div></div><p>
				A Migration Toolkit for Runtimes rule is installed by copying the rule to the appropriate MTR folder. MTR scans for rules, which are files with the <code class="literal">.windup.xml</code> extension in the following locations:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Directory specified by the <code class="literal">--userRulesDirectory</code> argument on the MTR command line.
					</li><li class="listitem">
						<code class="literal">&lt;MTR_HOME&gt;/rules/</code> directory. <code class="literal">&lt;MTR_HOME&gt;</code> is the directory where you install and run the Migration Toolkit for Runtimes executable.
					</li><li class="listitem"><p class="simpara">
						<code class="literal">${user.home}/.mtr/rules/</code> directory. This directory is created by MTR the first time it is run. it contains rules, add-ons, and the MTR log.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							In a Windows operating system, the rules are located in <code class="literal">\Documents and Settings\&lt;USER_NAME&gt;\.mtr\rules\</code> or <code class="literal">\Users\&lt;USER_NAME&gt;\.mtr\rules\</code>.
						</p></div></div></li></ul></div></section></section><section class="chapter" id="testing-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Testing XML rules</h1></div></div></div><p>
			After you have created an XML rule, you should create a test rule to ensure that it works.
		</p><section class="section" id="creating_a_test_rule"><div class="titlepage"><div><div><h2 class="title">4.1. Creating a test rule</h2></div></div></div><p>
				Test rules are created using a process similar to the process for creating an XML rule, with the following differences:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Test rules should be placed in a <code class="literal">tests/</code> directory beneath the rule to be tested.
					</li><li class="listitem">
						Any data, such as test classes, should be placed in a <code class="literal">data/</code> directory beneath the <code class="literal">tests/</code> directory.
					</li><li class="listitem">
						Test rules should use the <code class="literal">.windup.test.xml</code> extension.
					</li><li class="listitem">
						These rules use the structure defined in the Test XML Rule Structure.
					</li></ul></div><p>
				In addition, it is recommended to create a test rule that follows the name of the rule it tests. For example, if a rule were created with a filename of <code class="literal">proprietary-rule.mtr.xml</code>, the test rule should be called <code class="literal">proprietary-rule.windup.test.xml</code>.
			</p><section class="section" id="test-xml-rule-structure_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">4.1.1. Test XML rule structure</h3></div></div></div><p>
					All test XML rules are defined as elements within <code class="literal">ruletests</code> which contain one or more <code class="literal">rulesets</code>. For more details, see the <a class="link" href="http://windup.jboss.org/schema/windup-jboss-ruleset.xsd">MTR XML rule schema</a>.
				</p><p>
					A ruletest is a group of one or more tests that targets a specific area of migration. This is the basic structure of the <code class="literal">&lt;ruletest&gt;</code> element.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<code class="literal">&lt;ruletest id="&lt;RULE_TOPIC&gt;-test"&gt;</code>: Defines this as a unique MTR ruletest and gives it a unique ruletest id.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">&lt;testDataPath&gt;</code>: Defines the path to any data, such as classes or files, used for testing.
								</li><li class="listitem">
									<code class="literal">&lt;sourceMode&gt;</code>: Indicates if the passed in data only contains source files. If an archive, such as an EAR, WAR, or JAR, is in use, then this should be set to <code class="literal">false</code>. Defaults to <code class="literal">true</code>.
								</li><li class="listitem">
									<code class="literal">&lt;rulePath&gt;</code>: The path to the rule to be tested. This should end in the name of the rule to test.
								</li><li class="listitem">
									<code class="literal">&lt;ruleset&gt;</code>: Rulesets containing the logic of the test cases. These are identical to the ones defined in Rulesets.
								</li></ul></div></li></ul></div></section><section class="section" id="test_xml_rule_syntax"><div class="titlepage"><div><div><h3 class="title">4.1.2. Test XML rule syntax</h3></div></div></div><p>
					In addition to the tags in the standard XML rule syntax, the following <code class="literal">when</code> conditions are commonly used for creating test rules:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">&lt;not&gt;</code>
						</li><li class="listitem">
							<code class="literal">&lt;iterable-filter&gt;</code>
						</li><li class="listitem">
							<code class="literal">&lt;classification-exists&gt;</code>
						</li><li class="listitem">
							<code class="literal">&lt;hint-exists&gt;</code>
						</li></ul></div><p>
					In addition to the tags in the standard <code class="literal">perform action</code> syntax, the following <code class="literal">perform</code> conditions are commonly used as actions in test rules:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">&lt;fail&gt;</code>
						</li></ul></div><section class="section" id="not-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">4.1.2.1. &lt;not&gt; syntax</h4></div></div></div><h6 id="summary_16">Summary</h6><p>
						The <code class="literal">&lt;not&gt;</code> element is the standard logical <span class="emphasis"><em>not</em></span> operator, and is commonly used to perform a <code class="literal">&lt;fail&gt;</code> if the condition is not met.
					</p><p>
						The following is an example of a test rule that fails if only a specific message exists at the end of the analysis.
					</p><pre class="programlisting language-xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../proprietary-servlet.windup.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="proprietary-servlet-01000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
            &lt;!--
	      The defined `&lt;iterable-filter&gt;` has a size of `1`. This rule will only match on a single instance of the defined hint.
	    --&gt;
            &lt;iterable-filter size="1"&gt;
              &lt;hint-exists message="Replace the proprietary @ProprietaryServlet annotation with the Java EE 7 standard @WebServlet annotation*" /&gt;
            &lt;/iterable-filter&gt;
          &lt;/not&gt;
        &lt;/when&gt;
        &lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
          This ensures that it only executes if there is not a single instance of the defined hint.
        --&gt;
        &lt;perform&gt;
          &lt;fail message="Hint for @ProprietaryServlet was not found!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</pre><p>
						The <code class="literal">&lt;not&gt;</code> element has no unique attributes or child elements.
					</p></section><section class="section" id="iterable-filter-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">4.1.2.2. &lt;iterable-filter&gt; syntax</h4></div></div></div><h6 id="summary_17">Summary</h6><p>
						The <code class="literal">&lt;iterable-filter&gt;</code> element counts the number of times a condition is verified. For additional information, see the <a class="link" href="https://github.com/windup/windup/blob/master/rules-base/api/src/main/java/org/jboss/windup/rules/general/IterableFilter.java">IterableFilter</a> class.
					</p><p>
						The following is an example that looks for four instances of the specified message.
					</p><pre class="programlisting language-xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../proprietary-servlet.mtr.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="proprietary-servlet-03000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;iterable-filter&gt;` has a size of `4`. This rule will only match on four instances of the defined hint.
	    --&gt;
            &lt;iterable-filter size="4"&gt;
              &lt;hint-exists message="Replace the proprietary @ProprietaryInitParam annotation with the Java EE 7 standard @WebInitParam annotation*" /&gt;
            &lt;/iterable-filter&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there are not four instances of the defined hint.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Hint for @ProprietaryInitParam was not found!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</pre><p>
						The <code class="literal">&lt;iterable-filter&gt;</code> element has no unique child elements.
					</p><h6 id="iterable_filter_element_attributes">&lt;iterable-filter&gt; element attributes</h6><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378217012704" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378217011616" scope="col">Type</th><th align="left" valign="top" id="idm46378217010528" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378217012704">
									<p>
										size
									</p>
									</td><td align="left" valign="top" headers="idm46378217011616">
									<p>
										integer
									</p>
									</td><td align="left" valign="top" headers="idm46378217010528">
									<p>
										The number of times to be verified.
									</p>
									</td></tr></tbody></table></div></section><section class="section" id="classification_exists_syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">4.1.2.3. &lt;classification-exists&gt; syntax</h4></div></div></div><p>
						The <code class="literal">&lt;classification-exists&gt;</code> element determines if a specific classification title has been included in the analysis. For additional information, see the <a class="link" href="https://github.com/windup/windup/blob/master/reporting/api/src/main/java/org/jboss/windup/reporting/config/ClassificationExists.java">ClassificationExists</a> class.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							When testing for a message that contains special characters, such as <code class="literal">[</code> or <code class="literal">'</code>, you must escape each special character with a backslash (<code class="literal">\</code>) to correctly match.
						</p></div></div><p>
						The following is an example that searches for a specific classification title.
					</p><pre class="programlisting language-xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../weblogic.mtr.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="weblogic-01000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;classification-exists&gt;` is attempting to match on the defined title.
	      This classification would have been generated by a matching `&lt;classification title="WebLogic scheduled job" .../&gt;` rule.
	    --&gt;
            &lt;classification-exists classification="WebLogic scheduled job" /&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there is not a matching classification.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Triggerable not found" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</pre><p>
						The <code class="literal">&lt;classification-exists&gt;</code> has no unique child elements.
					</p><h6 id="classification_exists_element_attributes">&lt;classification-exists&gt; element attributes</h6><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218241040" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378218239952" scope="col">Type</th><th align="left" valign="top" id="idm46378218238864" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218241040">
									<p>
										classification
									</p>
									</td><td align="left" valign="top" headers="idm46378218239952">
									<p>
										String
									</p>
									</td><td align="left" valign="top" headers="idm46378218238864">
									<p>
										The <code class="literal">&lt;classification&gt;</code> <code class="literal">title</code> to search for.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378218241040">
									<p>
										in
									</p>
									</td><td align="left" valign="top" headers="idm46378218239952">
									<p>
										String
									</p>
									</td><td align="left" valign="top" headers="idm46378218238864">
									<p>
										An optional argument that restricts matching to files that contain the defined filename.
									</p>
									</td></tr></tbody></table></div></section><section class="section" id="hint-exists-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">4.1.2.4. &lt;hint-exists&gt; syntax</h4></div></div></div><p>
						The <code class="literal">&lt;hint-exists&gt;</code> element determines if a specific hint has been included in the analysis. It searches for any instances of the defined message, and is typically used to search for the beginning or a specific class inside of a <code class="literal">&lt;message&gt;</code> element. For additional information, see the <a class="link" href="https://github.com/windup/windup/blob/master/reporting/api/src/main/java/org/jboss/windup/reporting/config/HintExists.java">HintExists</a> class.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							When testing for a message that contains special characters, such as <code class="literal">[</code> or <code class="literal">'</code>, you must escape each special character with a backslash (<code class="literal">\</code>) to correctly match.
						</p></div></div><p>
						The following is an example that searches for a specific hint.
					</p><pre class="programlisting language-xml">&lt;ruletest xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          id="proprietary-servlet-test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
  &lt;testDataPath&gt;data/&lt;/testDataPath&gt;
  &lt;rulePath&gt;../weblogic.windup.xml&lt;/rulePath&gt;
  &lt;ruleset&gt;
    &lt;rules&gt;
      &lt;rule id="weblogic-eap7-05000-test"&gt;
        &lt;when&gt;
          &lt;!--
	    The `&lt;not&gt;` will perform a logical _not_ operator on the elements within.
	  --&gt;
          &lt;not&gt;
	    &lt;!--
	      The defined `&lt;hint-exists&gt;` is attempting to match on the defined message.
	      This message would have been generated by a matching `&lt;message&gt;` element on the `&lt;hint&gt;` condition.
	    --&gt;
            &lt;hint-exists message="Replace with the Java EE standard method .*javax\.transaction\.TransactionManager\.resume\(Transaction tx\).*" /&gt;
          &lt;/not&gt;
        &lt;/when&gt;
	&lt;!--
	  This `&lt;perform&gt;` element is only executed if the previous `&lt;when&gt;` condition is false.
	  In this configuration, it only executes if there is not a matching hint.
	--&gt;
        &lt;perform&gt;
          &lt;fail message="Note to replace with standard TransactionManager.resume is missing!" /&gt;
        &lt;/perform&gt;
      &lt;/rule&gt;
    &lt;/rules&gt;
  &lt;/ruleset&gt;
&lt;/ruletest&gt;</pre><p>
						The <code class="literal">&lt;hint-exists&gt;</code> element has no unique child elements.
					</p><h6 id="hint_exists_element_attributes">&lt;hint-exists&gt; element attributes</h6><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378216588496" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378216587408" scope="col">Type</th><th align="left" valign="top" id="idm46378216586320" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378216588496">
									<p>
										message
									</p>
									</td><td align="left" valign="top" headers="idm46378216587408">
									<p>
										String
									</p>
									</td><td align="left" valign="top" headers="idm46378216586320">
									<p>
										The <code class="literal">&lt;hint&gt;</code> <code class="literal">message</code> to search for.
									</p>
									</td></tr><tr><td align="left" valign="top" headers="idm46378216588496">
									<p>
										in
									</p>
									</td><td align="left" valign="top" headers="idm46378216587408">
									<p>
										String
									</p>
									</td><td align="left" valign="top" headers="idm46378216586320">
									<p>
										An optional argument that restricts matching to <code class="literal">InLineHintModels</code> that reference the given filename.
									</p>
									</td></tr></tbody></table></div></section><section class="section" id="fail-syntax_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">4.1.2.5. &lt;fail&gt; syntax</h4></div></div></div><p>
						The <code class="literal">&lt;fail&gt;</code> element reports the execution as a failure and displays the associated message. It is commonly used in conjunction with the <code class="literal">&lt;not&gt;</code> condition to display a message only if the conditions are not met.
					</p><p>
						The <code class="literal">&lt;fail&gt;</code> element has no unique child elements.
					</p><h6 id="fail_element_attributes">&lt;fail&gt; element attributes</h6><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"/><col style="width: 20%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378215639904" scope="col">Attribute Name</th><th align="left" valign="top" id="idm46378215638816" scope="col">Type</th><th align="left" valign="top" id="idm46378215637728" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378215639904">
									<p>
										message
									</p>
									</td><td align="left" valign="top" headers="idm46378215638816">
									<p>
										String
									</p>
									</td><td align="left" valign="top" headers="idm46378215637728">
									<p>
										The message to be displayed.
									</p>
									</td></tr></tbody></table></div></section></section></section><section class="section" id="manually-test-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">4.2. Manually testing an XML rule</h2></div></div></div><p>
				You can run an XML rule against your application file to test it:
			</p><pre class="programlisting language-terminal">$ &lt;MTR_HOME&gt;/mta-cli [--sourceMode] --input &lt;INPUT_ARCHIVE_OR_FOLDER&gt; --output &lt;OUTPUT_REPORT_DIRECTORY&gt; --target &lt;TARGET_TECHNOLOGY&gt; --packages &lt;PACKAGE_1&gt; &lt;PACKAGE_2&gt; &lt;PACKAGE_N&gt;</pre><p>
				You should see the following result:
			</p><pre class="screen">Report created: &lt;OUTPUT_REPORT_DIRECTORY&gt;/index.html
              Access it at this URL: file:///&lt;OUTPUT_REPORT_DIRECTORY&gt;/index.html</pre><p>
				More examples of how to run MTR are located in the Migration Toolkit for Runtimes <a class="link" href="https://access.redhat.com/documentation/en-us/migration_toolkit_for_runtimes/1.2/html-single/cli_guide"><span class="emphasis"><em>CLI Guide</em></span></a>.
			</p></section><section class="section" id="rules-testng-junit_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">4.3. Testing the rules by using JUnit</h2></div></div></div><p>
				Once a test rule has been created, it can be analyzed as part of a JUnit test to confirm that the rule meets all criteria for execution. The <code class="literal">WindupRulesMultipleTests</code> class in the MTR rules repository is designed to test multiple rules simultaneously, and provides feedback on any missing requirements.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Fork and clone the MTR XML rules. The location of this repository will be referred to as &lt;RULESETS_REPO&gt;.
					</li><li class="listitem">
						Create a test XML rule.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Creating the JUnit test configuration</strong></p><p>
					The following instructions detail creating a JUnit test using Eclipse. When using a different IDE, it is recommended to consult your IDE’s documentation for instructions on creating a JUnit test.
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Import the MTR rulesets repository into your IDE.
					</li><li class="listitem"><p class="simpara">
						Copy the custom rules, along with the corresponding tests and data, into <code class="literal">&lt;/path/to/RULESETS_REPO&gt;/rules-reviewed/&lt;RULE_NAME&gt;/</code>. This should create the following directory structure.
					</p><div class="formalpara"><p class="title"><strong>Directory structure</strong></p><p>
							
<pre class="screen">├── *rules-reviewed/*  _(Root directory of the rules found within the project)_
│   ├── *&lt;RULE_NAME&gt;/*  _(Directory to contain the newly developed rule and tests)_
│   │   ├── *&lt;RULE_NAME&gt;.windup.xml*  _(Custom rule)_
│   │   ├── *tests/*  _(Directory that contains any test rules and data)_
│   │   │   ├── *&lt;RULE_NAME&gt;.windup.test.xml* _(Test rule)_
│   │   │   └── *data/*  _(Optional directory to contain test rule data)_</pre>
						</p></div></li><li class="listitem">
						Select <span class="strong strong"><strong>Run</strong></span> from the top menu bar.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Run Configurations…​</strong></span> from the drop down that appears.
					</li><li class="listitem">
						Right-click <span class="strong strong"><strong>JUnit</strong></span> from the options on the left side and select <span class="strong strong"><strong>New</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Enter the following:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Name</strong></span>: A name for your JUnit test, such as <code class="literal">WindupRulesMultipleTests</code>.
							</li><li class="listitem">
								<span class="strong strong"><strong>Project</strong></span>: Ensure this is set to <code class="literal">windup-rulesets</code>.
							</li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Test class</strong></span>: Set this to <code class="literal">org.jboss.windup.rules.tests.WindupRulesMultipleTests</code>.
							</p><div class="informalfigure"><div class="mediaobject"><img src="images/topics/images/junit-test.png" alt="junit test"/></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						Select the <span class="strong strong"><strong>Arguments</strong></span> tab, and add the <code class="literal">-DrunTestsMatching=&lt;RULE_NAME&gt;</code> VM argument. For instance, if your rule name was <code class="literal">community-rules</code>, then you would add <code class="literal">-DrunTestsMatching=community-rules</code> as seen in the following image.
					</p><div class="informalfigure"><div class="mediaobject"><img src="images/topics/images/junit-test-arguments.png" alt="junit test arguments"/></div></div></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Run</strong></span> in the bottom right corner to begin the test.
					</p><p class="simpara">
						When the execution completes, the results are available for analysis. If all tests passed, then the test rule is correctly formatted. If all tests did not pass, it is recommended to address each of the issues raised in the test failures.
					</p></li></ol></div></section><section class="section" id="validation-report_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">4.4. About validation reports</h2></div></div></div><p>
				Validation reports provide details about test rules and failures and contain the following sections:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Summary</strong></span>
					</p><p class="simpara">
						This section contains the total number of tests run and reports the number of errors and failures. It displays the total success rate and the time taken, in seconds, for the report to be generated.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Package List</strong></span>
					</p><p class="simpara">
						This section contains the number of tests executed for each package and reports the number of errors and failures. It displays the success rate and the time taken, in seconds, for each package to be analyzed.
					</p><p class="simpara">
						A single package named <code class="literal">org.jboss.windup.rules.tests</code> is displayed unless additional test cases have been defined.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Test Cases</strong></span>
					</p><p class="simpara">
						This section describes the test cases. Each failure includes a <span class="strong strong"><strong>Details</strong></span> section that can be expanded to show the stack trace for the assertion, including a human-readable line indicating the source of the error.
					</p></li></ul></div><section class="section" id="validation-report-understanding_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">4.4.1. Creating a validation report</h3></div></div></div><p>
					You can create a validation report for your custom rules.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You must fork and clone the MTR XML rules.
						</li><li class="listitem">
							You must have one or more test XML rules to validate.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to the local <code class="literal">windup-rulesets</code> repository.
						</li><li class="listitem">
							Create a directory for your custom rules and tests: <code class="literal">windup-rulesets/rules-reviewed/myTests</code>.
						</li><li class="listitem">
							Copy your custom rules and tests to the <code class="literal">windup-rulesets/rules-reviewed/&lt;myTests&gt;</code> directory.
						</li><li class="listitem"><p class="simpara">
							Run the following command from the root directory of the <code class="literal">windup-rulesets</code> repository:
						</p><pre class="screen">$ mvn -Dtest=WindupRulesMultipleTests -DrunTestsMatching=&lt;myTests&gt; clean &lt;myReport&gt;:report <span id="CO1-1"/><span class="callout">1</span> <span id="CO1-2"/><span class="callout">2</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Specify the directory containing your custom rules and tests. If you omit the <code class="literal">-DrunTestsMatching</code> argument, the validation report will include all the tests and take much longer to generate.
								</div></dd><dt><a href="#CO1-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									Specify your report name.
								</div></dd></dl></div><p class="simpara">
							The validation report is created in the <code class="literal">windup-rulesets/target/site/</code> repository.
						</p></li></ol></div></section><section class="section" id="validation-report-errors_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">4.4.2. Validation report error messages</h3></div></div></div><p>
					Validation reports contain errors encountered while running the rules and tests.
				</p><p>
					The following table contains error messages and how to resolve the errors.
				</p><div class="table" id="idm46378218163328"><p class="title"><strong>Table 4.1. Validation report error messages</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 35%; " class="col_2"/><col style="width: 40%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378218075472" scope="col">Error message</th><th align="left" valign="top" id="idm46378218074384" scope="col">Description</th><th align="left" valign="top" id="idm46378218073296" scope="col">Resolution</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378218075472">
								<p>
									No test file matching rule
								</p>
								</td><td align="left" valign="top" headers="idm46378218074384">
								<p>
									This error occurs when a rule file exists without a corresponding test file.
								</p>
								</td><td align="left" valign="top" headers="idm46378218073296">
								<p>
									Create a test file for the existing rule.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378218075472">
								<p>
									Test rule Ids &lt;RULE_NAME&gt; not found!
								</p>
								</td><td align="left" valign="top" headers="idm46378218074384">
								<p>
									This error is thrown when a rule exists without a corresponding ruletest.
								</p>
								</td><td align="left" valign="top" headers="idm46378218073296">
								<p>
									Create a test for the existing rule.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378218075472">
								<p>
									XML parse fail on file &lt;FILE_NAME&gt;
								</p>
								</td><td align="left" valign="top" headers="idm46378218074384">
								<p>
									The syntax in the XML file is invalid, and unable to be parsed successfully by the rule validator.
								</p>
								</td><td align="left" valign="top" headers="idm46378218073296">
								<p>
									Correct the invalid syntax.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378218075472">
								<p>
									Test file path from <code class="literal">&lt;testDataPath&gt;</code> tag has not been found. Expected path to test file is: &lt;RULE_DATA_PATH&gt;
								</p>
								</td><td align="left" valign="top" headers="idm46378218074384">
								<p>
									No files are found in the path defined in the <code class="literal">&lt;testDataPath&gt;</code> tag within the test rule.
								</p>
								</td><td align="left" valign="top" headers="idm46378218073296">
								<p>
									Create the path defined in the <code class="literal">&lt;testDataPath&gt;</code> tag, and ensure all necessary data files are located within this directory.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378218075472">
								<p>
									The rule with id="&lt;RULE_ID&gt;" has not been executed.
								</p>
								</td><td align="left" valign="top" headers="idm46378218074384">
								<p>
									The rule with the provided id has not been executed during this validation.
								</p>
								</td><td align="left" valign="top" headers="idm46378218073296">
								<p>
									Ensure that a test data file exists that matches the conditions defined in the specified rule.
								</p>
								</td></tr></tbody></table></div></div></section></section></section><section class="chapter" id="overriding-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Overriding rules</h1></div></div></div><p>
			You can override core rules distributed with MTR or even custom rules. For example, you can change the matching conditions, effort, or hint text for a rule. This is done by making a copy of the original rule, marking it as a rule override, and making the necessary adjustments.
		</p><p>
			You can disable a rule by creating a rule override with an empty <code class="literal">&lt;rule&gt;</code> element.
		</p><section class="section" id="overriding_a_rule"><div class="titlepage"><div><div><h2 class="title">5.1. Overriding a rule</h2></div></div></div><p>
				You can override a core or custom rule.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the XML file that contains the rule you want to override to the custom rules directory.
					</p><p class="simpara">
						Custom rules can be placed in <code class="literal">&lt;MTR_HOME&gt;/rules</code>, <code class="literal">${user.home}/.mtr/rules/</code>, or a directory specified by the <code class="literal">--userRulesDirectory</code> command-line argument.
					</p></li><li class="listitem"><p class="simpara">
						Edit the XML file so that it contains only the <code class="literal">&lt;rule&gt;</code> elements for the rules that you want to override.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Rules from the original ruleset that are not overridden by the new ruleset are run as normal.
						</p></div></div></li><li class="listitem">
						Ensure that you keep the same rule and ruleset IDs. When you copy the original rule XML, this ensures that the IDs match.
					</li><li class="listitem">
						Ensure that the target technology in the override ruleset matches one of the targets that you specified for running the analysis.
					</li><li class="listitem">
						Add the <code class="literal">&lt;overrideRules&gt;true&lt;/overrideRules&gt;</code> element to the ruleset metadata.
					</li><li class="listitem"><p class="simpara">
						Update the rule definition.
					</p><p class="simpara">
						You can change anything in the rule definition. The new rule overrides the original rule in its entirety.
					</p></li></ol></div><p>
				The following rule override example changes the <code class="literal">effort</code> of the <code class="literal">weblogic-02000</code> rule in the <code class="literal">weblogic</code> ruleset from <code class="literal">1</code> to <code class="literal">3</code>:
			</p><div class="formalpara"><p class="title"><strong>Rule override definition example</strong></p><p>
					
<pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="weblogic"
    xmlns="http://windup.jboss.org/schema/jboss-ruleset"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt; <span id="CO2-1"/><span class="callout">1</span>
    &lt;metadata&gt;
        ...
        &lt;overrideRules&gt;true&lt;/overrideRules&gt; <span id="CO2-2"/><span class="callout">2</span>
    &lt;/metadata&gt;
    &lt;rules&gt;
        &lt;rule id="weblogic-02000" xmlns="http://windup.jboss.org/schema/jboss-ruleset"&gt; <span id="CO2-3"/><span class="callout">3</span>
            &lt;when&gt;
                &lt;javaclass references="weblogic.utils.StringUtils.{*}"/&gt;
            &lt;/when&gt;
            &lt;perform&gt;
                &lt;hint effort="3" category-id="mandatory" title="WebLogic StringUtils Usage"&gt; <span id="CO2-4"/><span class="callout">4</span>
                    &lt;message&gt;Replace with the StringUtils class from Apache Commons.&lt;/message&gt;
                    &lt;link href="https://commons.apache.org/proper/commons-lang/" title="Apache Commons Lang"/&gt;
                    &lt;tag&gt;weblogic&lt;/tag&gt;
                &lt;/hint&gt;
            &lt;/perform&gt;
        &lt;/rule&gt;
    &lt;/rules&gt;
&lt;/ruleset&gt;</pre>
				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO2-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						Ensure that the <code class="literal">ruleset id</code> matches the original <code class="literal">ruleset id</code>.
					</div></dd><dt><a href="#CO2-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						Add <code class="literal">&lt;overrideRules&gt;true&lt;/overrideRules&gt;</code> to the <code class="literal">&lt;metadata&gt;</code> section.
					</div></dd><dt><a href="#CO2-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						Ensure that the <code class="literal">rule id</code> matches the original <code class="literal">rule id</code>.
					</div></dd><dt><a href="#CO2-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						Updated <code class="literal">effort</code>.
					</div></dd></dl></div><p>
				When you run MTR, this rule overrides the original rule with the same rule ID. You can verify that the new rule was used by viewing the contents of the Rule Provider Executions Overview.
			</p></section><section class="section" id="disabling_a_rule"><div class="titlepage"><div><div><h2 class="title">5.2. Disabling a rule</h2></div></div></div><p>
				To disable a rule, create a rule override definition with an empty <code class="literal">&lt;rule&gt;</code> element according to the following example:
			</p><div class="formalpara"><p class="title"><strong>Rule override definition example to disable a rule</strong></p><p>
					
<pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;ruleset id="weblogic"
    xmlns="http://windup.jboss.org/schema/jboss-ruleset"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd"&gt;
    &lt;metadata&gt;
        ...
        &lt;overrideRules&gt;true&lt;/overrideRules&gt;
    &lt;/metadata&gt;
    &lt;rules&gt;
        &lt;rule id="weblogic-02000" xmlns="http://windup.jboss.org/schema/jboss-ruleset"&gt;
        <span id="CO3-1"/><span class="callout">1</span>
        &lt;/rule&gt;
    &lt;/rules&gt;
&lt;/ruleset&gt;</pre>
				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO3-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						The <code class="literal">&lt;rule&gt;</code> element is empty so that the <code class="literal">weblogic-02000</code> rule in the <code class="literal">weblogic</code> ruleset is disabled.
					</div></dd></dl></div></section></section><section class="chapter" id="rule-categories_rules-development-guide-mtr"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Using custom rule categories</h1></div></div></div><p>
			You can create custom rule categories and assign MTR rules to them.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				Although MTR processes rules with the legacy <code class="literal">severity</code> field, you must update your custom rules to use the new <code class="literal">category-id</code> field.
			</p></div></div><section class="section" id="add_custom_category_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">6.1. Adding a custom category</h2></div></div></div><p>
				You can add a custom category to the rule category file.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Edit the rule category file, which is located at <code class="literal">&lt;MTR_HOME&gt;/rules/migration-core/core.windup.categories.xml</code>.
					</li><li class="listitem"><p class="simpara">
						Add a new <code class="literal">&lt;category&gt;</code> element and fill in the following parameters:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">id</code>: The ID that MTR rules use to reference the category.
							</li><li class="listitem">
								<code class="literal">priority</code>: The sorting priority relative to other categories. The category with the lowest value is displayed first.
							</li><li class="listitem">
								<code class="literal">name</code>: The display name of the category.
							</li><li class="listitem"><p class="simpara">
								<code class="literal">description</code>: The description of the category.
							</p><div class="formalpara"><p class="title"><strong>Custom rule category example</strong></p><p>
									
<pre class="programlisting language-xml">&lt;?xml version="1.0"?&gt;
&lt;categories&gt;
    ...
    &lt;category id="custom-category" priority="20000"&gt;
        &lt;name&gt;Custom Category&lt;/name&gt;
        &lt;description&gt;This is a custom category.&lt;/description&gt;
    &lt;/category&gt;
&lt;/categories&gt;</pre>
								</p></div><p class="simpara">
								This category is ready to be referenced by MTR rules.
							</p></li></ul></div></li></ol></div></section><section class="section" id="assign_custom_category_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">6.2. Assigning a rule to a custom category</h2></div></div></div><p>
				You can assign a rule to your new custom category.
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					In your MTR rule, update the <code class="literal">category-id</code> field as in the following example.
				</p></div><pre class="programlisting language-xml">&lt;rule id="rule-id"&gt;
    &lt;when&gt;
        ...
    &lt;/when&gt;
    &lt;perform&gt;
        &lt;hint title="Rule Title" effort="1" category-id="custom-category"&gt;
            &lt;message&gt;Hint message.&lt;/message&gt;
        &lt;/hint&gt;
    &lt;/perform&gt;
 &lt;/rule&gt;</pre><p>
				If this rule condition is met, incidents identified by this rule use your custom category. The custom category is displayed on the dashboard and in the Issues report.
			</p><div class="figure" id="idm46378216754992"><p class="title"><strong>Figure 6.1. Custom category on the dashboard</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/topics/images/custom_rule_category.png" alt="Custom rule category on the Dashboard"/></div></div></div></section></section><section class="appendix" id="reference_material"><div class="titlepage"><div><div><h1 class="title">Appendix A. Reference material</h1></div></div></div><section class="section" id="about-story-points_rules-development-guide-mtr"><div class="titlepage"><div><div><h2 class="title">A.1. About rule story points</h2></div></div></div><section class="section" id="what_are_story_points"><div class="titlepage"><div><div><h3 class="title">A.1.1. What are story points?</h3></div></div></div><p>
					<span class="emphasis"><em>Story points</em></span> are an abstract metric commonly used in Agile software development to estimate the <span class="emphasis"><em>level of effort</em></span> needed to implement a feature or change.
				</p><p>
					The Migration Toolkit for Runtimes uses story points to express the level of effort needed to migrate particular application constructs, and the application as a whole. It does not necessarily translate to man-hours, but the value should be consistent across tasks.
				</p></section><section class="section" id="how_story_points_are_estimated_in_rules"><div class="titlepage"><div><div><h3 class="title">A.1.2. How story points are estimated in rules</h3></div></div></div><p>
					Estimating the level of effort for the story points for a rule can be tricky. The following are the general guidelines MTR uses when estimating the level of effort required for a rule.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 15%; " class="col_2"/><col style="width: 60%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm46378217967984" scope="col">Level of Effort</th><th align="left" valign="top" id="idm46378217966896" scope="col">Story Points</th><th align="left" valign="top" id="idm46378217965808" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Information
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									0
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									An informational warning with very low or no priority for migration.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Trivial
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									1
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									The migration is a trivial change or a simple library swap with no or minimal API changes.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Complex
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									3
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									The changes required for the migration task are complex, but have a documented solution.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Redesign
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									5
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									The migration task requires a redesign or a complete library change, with significant API changes.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Rearchitecture
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									7
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									The migration requires a complete rearchitecture of the component or subsystem.
								</p>
								</td></tr><tr><td align="left" valign="top" headers="idm46378217967984">
								<p>
									Unknown
								</p>
								</td><td align="left" valign="top" headers="idm46378217966896">
								<p>
									13
								</p>
								</td><td align="left" valign="top" headers="idm46378217965808">
								<p>
									The migration solution is not known and may need a complete rewrite.
								</p>
								</td></tr></tbody></table></div></section><section class="section" id="task_category"><div class="titlepage"><div><div><h3 class="title">A.1.3. Task category</h3></div></div></div><p>
					In addition to the level of effort, you can categorize migration tasks to indicate the severity of the task. The following categories are used to group issues to help prioritize the migration effort.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Mandatory</span></dt><dd>
								The task must be completed for a successful migration. If the changes are not made, the resulting application will not build or run successfully. Examples include replacement of proprietary APIs that are not supported in the target platform.
							</dd><dt><span class="term">Optional</span></dt><dd>
								If the migration task is not completed, the application should work, but the results may not be optimal. If the change is not made at the time of migration, it is recommended to put it on the schedule soon after your migration is completed.
							</dd><dt><span class="term">Potential</span></dt><dd>
								The task should be examined during the migration process, but there is not enough detailed information to determine if the task is mandatory for the migration to succeed. An example of this would be migrating a third-party proprietary type where there is no directly compatible type.
							</dd><dt><span class="term">Information</span></dt><dd>
								The task is included to inform you of the existence of certain files. These may need to be examined or modified as part of the modernization effort, but changes are typically not required.
							</dd></dl></div><p>
					For more information on categorizing tasks, see <a class="link" href="#rule-categories_rules-development-guide-mtr" title="Chapter 6. Using custom rule categories">Using custom rule categories</a>.
				</p></section></section><section class="section" id="additional_resources"><div class="titlepage"><div><div><h2 class="title">A.2. Additional resources</h2></div></div></div><section class="section" id="review-existing-rules_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">A.2.1. Reviewing existing MTR XML rules</h3></div></div></div><p>
					MTR XML-based rules are located on GitHub at the following location: <a class="link" href="https://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed">https://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed</a>.
				</p><p>
					You can fork and clone the MTR XML rules on your local machine.
				</p><p>
					Rules are grouped by target platform and function. When you create a new rule, it is helpful to find a rule that is similar to the one you need and use it as a starting template.
				</p><p>
					New rules are continually added, so it is a good idea to check back frequently to review the updates.
				</p><section class="section" id="fork-ruleset-repo_rules-development-guide-mtr"><div class="titlepage"><div><div><h4 class="title">A.2.1.1. Forking and cloning the Migration Toolkit for Runtimes XML rules</h4></div></div></div><p>
						The Migration Toolkit for Runtimes <code class="literal">windup-rulesets</code> repository provides working examples of how to create custom Java-based rule add-ons and XML rules. You can use them as a starting point for creating your own custom rules.
					</p><p>
						You must have the <a class="link" href="http://git-scm.com/"><code class="literal">git</code></a> client installed on your machine.
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Click the <code class="literal">Fork</code> link on the <a class="link" href="https://github.com/windup/windup-rulesets/">Migration Toolkit for Runtimes Rulesets</a> GitHub page to create the project in your own Git. The forked GitHub repository URL created by the fork should look like this: <code class="literal">https://github.com/&lt;YOUR_USER_NAME&gt;/windup-rulesets.git</code>.
							</li><li class="listitem"><p class="simpara">
								Clone your Migration Toolkit for Runtimes rulesets repository to your local file system:
							</p><pre class="screen">$ git clone https://github.com/&lt;YOUR_USER_NAME&gt;/windup-rulesets.git</pre></li><li class="listitem"><p class="simpara">
								This creates and populates a <code class="literal">windup-rulesets</code> directory on your local file system. Navigate to the newly created directory, for example
							</p><pre class="screen">$ cd windup-rulesets/</pre></li><li class="listitem"><p class="simpara">
								If you want to be able to retrieve the latest code updates, add the remote <code class="literal">upstream</code> repository so you can fetch any changes to the original forked repository.
							</p><pre class="screen">$ git remote add upstream https://github.com/windup/windup-rulesets.git</pre></li><li class="listitem"><p class="simpara">
								Get the latest files from the <code class="literal">upstream</code> repository.
							</p><pre class="screen">$ git fetch upstream</pre></li></ol></div></section></section><section class="section" id="rules-important-links_rules-development-guide-mtr"><div class="titlepage"><div><div><h3 class="title">A.2.2. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							MTR Jira issue tracker: <a class="link" href="https://issues.redhat.com/projects/WINDUP">https://issues.redhat.com/projects/WINDUP</a>
						</li><li class="listitem">
							MTR mailing list: <a class="link" href="mailto:windup-eng@redhat.com">windup-eng@redhat.com</a>
						</li></ul></div><p>
					<br/>
				</p><p>
					<span class="emphasis"><em><span class="right right">Revised on 2024-09-05 14:02:49 UTC</span></em></span>
				</p></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm46378217208128"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>